<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Lint :: RuboCop Docs</title>
    <link rel="canonical" href="https://docs.rubocop.org/rubocop/cops_lint.html">
    <link rel="prev" href="cops_layout.html">
    <link rel="next" href="cops_metrics.html">
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../_/css/site.css">
<link rel="stylesheet" href="../../_/css/site-extra.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css">
<link rel="icon" href="../../_/img/favicon.ico" type="image/x-icon">
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-140153536-1"></script>
    <script>function gtag(){dataLayer.push(arguments)};window.dataLayer=window.dataLayer||[];gtag('js',new Date());gtag('config','UA-140153536-1')</script>
    <script>var uiRootPath = '../../_'</script>
  </head>
  <body class="article">
<header class="header" role="banner">
  <nav class="navbar">
    <div class="navbar-brand">
      <div class="navbar-item">
        <a href="https://rubocop.org">RuboCop</a>
        <span class="separator">//</span>
        <a href="https://docs.rubocop.org">Docs</a>
      </div>
      <div class="navbar-item">
        <input id="search-input" type="text" placeholder="Search docs">
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href=index.html>Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Style Guides</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://rubystyle.guide">Ruby</a>
            <a class="navbar-item" href="https://rails.rubystyle.guide">Rails</a>
            <a class="navbar-item" href="https://rspec.rubystyle.guide">RSpec</a>
            <a class="navbar-item" href="https://minitest.rubystyle.guide">Minitest</a>
          </div>
        </div>
        <a class="navbar-item" href="https://www.rubydoc.info/gems/rubocop">API Docs</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Projects</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://github.com/rubocop/rubocop">RuboCop</a>
            <a class="navbar-item" href="https://github.com/rubocop/rubocop-ast">RuboCop AST</a>
            <a class="navbar-item" href="https://github.com/rubocop/rubocop-minitest">RuboCop Minitest</a>
            <a class="navbar-item" href="https://github.com/rubocop/rubocop-performance">RuboCop Performance</a>
            <a class="navbar-item" href="https://github.com/rubocop/rubocop-rails">RuboCop Rails</a>
            <a class="navbar-item" href="https://github.com/rubocop/rubocop-rake">RuboCop Rake</a>
            <a class="navbar-item" href="https://github.com/rubocop/rubocop-rspec">RuboCop RSpec</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Community</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://github.com/rubocop">GitHub Org</a>
            <a class="navbar-item" href="https://gitter.im/bbatsov/rubocop">Chat (Gitter)</a>
            <a class="navbar-item" href="https://opencollective.com/rubocop">Open Collective</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="rubocop" data-version="1.10">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html">RuboCop</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="index.html">Home</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="installation.html">Installation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="compatibility.html">Compatibility</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Usage</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="usage/basic_usage.html">Basic Usage</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="usage/auto_correct.html">Auto-correct</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="usage/caching.html">Caching</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="configuration.html">Configuration</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="cops.html">Cops</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="formatters.html">Formatters</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Cop Documentation</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="cops_bundler.html">Bundler</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="cops_gemspec.html">Gemspec</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="cops_layout.html">Layout</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="cops_lint.html">Lint</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="cops_metrics.html">Metrics</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="cops_migration.html">Migration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="cops_naming.html">Naming</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="cops_security.html">Security</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="cops_style.html">Style</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="v1_upgrade_notes.html">Upgrade Notes</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="extensions.html">Extensions</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="integration_with_other_tools.html">Integration with Other Tools</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="automated_code_review.html">Automated Code Review</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="development.html">Development</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="contributing.html">Contributing</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="support.html">Support</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="versioning.html">Versioning</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">About</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="about/history.html">History</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="about/team.html">Team</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="about/changelog.html">Changelog</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="about/logo.html">Logo</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="about/license.html">License</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">RuboCop</span>
    <span class="version">1.10</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../index.html">RuboCop</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../index.html">master</a>
        </li>
        <li class="version">
          <a href="../1.22/index.html">1.22</a>
        </li>
        <li class="version">
          <a href="../1.21/index.html">1.21</a>
        </li>
        <li class="version">
          <a href="../1.20/index.html">1.20</a>
        </li>
        <li class="version">
          <a href="../1.19/index.html">1.19</a>
        </li>
        <li class="version">
          <a href="../1.18/index.html">1.18</a>
        </li>
        <li class="version">
          <a href="../1.17/index.html">1.17</a>
        </li>
        <li class="version">
          <a href="../1.16/index.html">1.16</a>
        </li>
        <li class="version">
          <a href="../1.15/index.html">1.15</a>
        </li>
        <li class="version">
          <a href="../1.14/index.html">1.14</a>
        </li>
        <li class="version">
          <a href="../1.13/index.html">1.13</a>
        </li>
        <li class="version">
          <a href="../1.12/index.html">1.12</a>
        </li>
        <li class="version">
          <a href="../1.11/index.html">1.11</a>
        </li>
        <li class="version is-current">
          <a href="index.html">1.10</a>
        </li>
        <li class="version">
          <a href="../1.9/index.html">1.9</a>
        </li>
        <li class="version">
          <a href="../1.8/index.html">1.8</a>
        </li>
        <li class="version">
          <a href="../1.7/index.html">1.7</a>
        </li>
        <li class="version">
          <a href="../1.6/index.html">1.6</a>
        </li>
        <li class="version">
          <a href="../1.5/index.html">1.5</a>
        </li>
        <li class="version">
          <a href="../1.4/index.html">1.4</a>
        </li>
        <li class="version">
          <a href="../1.3/index.html">1.3</a>
        </li>
        <li class="version">
          <a href="../1.2/index.html">1.2</a>
        </li>
        <li class="version">
          <a href="../1.1/index.html">1.1</a>
        </li>
        <li class="version">
          <a href="../1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../rubocop-ast/index.html">RuboCop AST</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../rubocop-ast/index.html">master</a>
        </li>
        <li class="version">
          <a href="../../rubocop-ast/1.12/index.html">1.12</a>
        </li>
        <li class="version">
          <a href="../../rubocop-ast/1.11/index.html">1.11</a>
        </li>
        <li class="version">
          <a href="../../rubocop-ast/1.10/index.html">1.10</a>
        </li>
        <li class="version">
          <a href="../../rubocop-ast/1.9/index.html">1.9</a>
        </li>
        <li class="version">
          <a href="../../rubocop-ast/1.8/index.html">1.8</a>
        </li>
        <li class="version">
          <a href="../../rubocop-ast/1.7/index.html">1.7</a>
        </li>
        <li class="version">
          <a href="../../rubocop-ast/1.6/index.html">1.6</a>
        </li>
        <li class="version">
          <a href="../../rubocop-ast/1.5/index.html">1.5</a>
        </li>
        <li class="version">
          <a href="../../rubocop-ast/1.4/index.html">1.4</a>
        </li>
        <li class="version">
          <a href="../../rubocop-ast/1.3/index.html">1.3</a>
        </li>
        <li class="version">
          <a href="../../rubocop-ast/1.2/index.html">1.2</a>
        </li>
        <li class="version">
          <a href="../../rubocop-ast/1.1/index.html">1.1</a>
        </li>
        <li class="version">
          <a href="../../rubocop-ast/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../rubocop-minitest/index.html">RuboCop Minitest</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../rubocop-minitest/index.html">master</a>
        </li>
        <li class="version">
          <a href="../../rubocop-minitest/0.15/index.html">0.15</a>
        </li>
        <li class="version">
          <a href="../../rubocop-minitest/0.14/index.html">0.14</a>
        </li>
        <li class="version">
          <a href="../../rubocop-minitest/0.13/index.html">0.13</a>
        </li>
        <li class="version">
          <a href="../../rubocop-minitest/0.12/index.html">0.12</a>
        </li>
        <li class="version">
          <a href="../../rubocop-minitest/0.11/index.html">0.11</a>
        </li>
        <li class="version">
          <a href="../../rubocop-minitest/0.10/index.html">0.10</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../rubocop-packaging/index.html">RuboCop Packaging</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../rubocop-packaging/index.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../rubocop-performance/index.html">RuboCop Performance</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../rubocop-performance/index.html">master</a>
        </li>
        <li class="version">
          <a href="../../rubocop-performance/1.12/index.html">1.12</a>
        </li>
        <li class="version">
          <a href="../../rubocop-performance/1.11/index.html">1.11</a>
        </li>
        <li class="version">
          <a href="../../rubocop-performance/1.10/index.html">1.10</a>
        </li>
        <li class="version">
          <a href="../../rubocop-performance/1.9/index.html">1.9</a>
        </li>
        <li class="version">
          <a href="../../rubocop-performance/1.8/index.html">1.8</a>
        </li>
        <li class="version">
          <a href="../../rubocop-performance/1.7/index.html">1.7</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../rubocop-rails/index.html">RuboCop Rails</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../rubocop-rails/index.html">master</a>
        </li>
        <li class="version">
          <a href="../../rubocop-rails/2.12/index.html">2.12</a>
        </li>
        <li class="version">
          <a href="../../rubocop-rails/2.11/index.html">2.11</a>
        </li>
        <li class="version">
          <a href="../../rubocop-rails/2.10/index.html">2.10</a>
        </li>
        <li class="version">
          <a href="../../rubocop-rails/2.9/index.html">2.9</a>
        </li>
        <li class="version">
          <a href="../../rubocop-rails/2.8/index.html">2.8</a>
        </li>
        <li class="version">
          <a href="../../rubocop-rails/2.7/index.html">2.7</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../rubocop-rspec/index.html">RuboCop RSpec</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../rubocop-rspec/index.html">master</a>
        </li>
        <li class="version">
          <a href="../../rubocop-rspec/2.5/index.html">2.5</a>
        </li>
        <li class="version">
          <a href="../../rubocop-rspec/2.4/index.html">2.4</a>
        </li>
        <li class="version">
          <a href="../../rubocop-rspec/2.3/index.html">2.3</a>
        </li>
        <li class="version">
          <a href="../../rubocop-rspec/2.2/index.html">2.2</a>
        </li>
        <li class="version">
          <a href="../../rubocop-rspec/2.1/index.html">2.1</a>
        </li>
        <li class="version">
          <a href="../../rubocop-rspec/2.0/index.html">2.0</a>
        </li>
        <li class="version">
          <a href="../../rubocop-rspec/1.44/index.html">1.44</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../1.22/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">RuboCop</a></li>
    <li>Cop Documentation</li>
    <li><a href="cops_lint.html">Lint</a></li>
  </ul>
</nav>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">1.10</button>
  <div class="version-menu">
    <a class="version" href="../cops_lint.html">master</a>
    <a class="version" href="../1.22/cops_lint.html">1.22</a>
    <a class="version" href="../1.21/cops_lint.html">1.21</a>
    <a class="version" href="../1.20/cops_lint.html">1.20</a>
    <a class="version" href="../1.19/cops_lint.html">1.19</a>
    <a class="version" href="../1.18/cops_lint.html">1.18</a>
    <a class="version" href="../1.17/cops_lint.html">1.17</a>
    <a class="version" href="../1.16/cops_lint.html">1.16</a>
    <a class="version" href="../1.15/cops_lint.html">1.15</a>
    <a class="version" href="../1.14/cops_lint.html">1.14</a>
    <a class="version" href="../1.13/cops_lint.html">1.13</a>
    <a class="version" href="../1.12/cops_lint.html">1.12</a>
    <a class="version" href="../1.11/cops_lint.html">1.11</a>
    <a class="version is-current" href="cops_lint.html">1.10</a>
    <a class="version" href="../1.9/cops_lint.html">1.9</a>
    <a class="version" href="../1.8/cops_lint.html">1.8</a>
    <a class="version" href="../1.7/cops_lint.html">1.7</a>
    <a class="version" href="../1.6/cops_lint.html">1.6</a>
    <a class="version" href="../1.5/cops_lint.html">1.5</a>
    <a class="version" href="../1.4/cops_lint.html">1.4</a>
    <a class="version" href="../1.3/cops_lint.html">1.3</a>
    <a class="version" href="../1.2/cops_lint.html">1.2</a>
    <a class="version" href="../1.1/cops_lint.html">1.1</a>
    <a class="version" href="../1.0/cops_lint.html">1.0</a>
  </div>
</div>
  <div class="edit-this-page"><a href="https://github.com/rubocop/rubocop/blob/v1.10.0/docs/modules/ROOT/pages/cops_lint.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Lint</h1>
<div class="sect1">
<h2 id="lintambiguousassignment"><a class="anchor" href="#lintambiguousassignment"></a>Lint/AmbiguousAssignment</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">VersionAdded</th>
<th class="tableblock halign-left valign-top">VersionChanged</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This cop checks for mistyped shorthand assignments.</p>
</div>
<div class="sect2">
<h3 id="examples"><a class="anchor" href="#examples"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
x =- y
x =+ y
x =* y
x =! y

# good
x -= y # or x = -y
x += y # or x = +y
x *= y # or x = *y
x != y # or x = !y</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintambiguousblockassociation"><a class="anchor" href="#lintambiguousblockassociation"></a>Lint/AmbiguousBlockAssociation</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">VersionAdded</th>
<th class="tableblock halign-left valign-top">VersionChanged</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.48</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This cop checks for ambiguous block association with method
when param passed without parentheses.</p>
</div>
<div class="sect2">
<h3 id="examples-2"><a class="anchor" href="#examples-2"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
some_method a { |val| puts val }</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
# With parentheses, there's no ambiguity.
some_method(a { |val| puts val })
# or (different meaning)
some_method(a) { |val| puts val }

# good
# Operator methods require no disambiguation
foo == bar { |b| b.baz }

# good
# Lambda arguments require no disambiguation
foo = -&gt;(bar) { bar.baz }</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references"><a class="anchor" href="#references"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#syntax" class="bare">https://rubystyle.guide#syntax</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintambiguousoperator"><a class="anchor" href="#lintambiguousoperator"></a>Lint/AmbiguousOperator</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">VersionAdded</th>
<th class="tableblock halign-left valign-top">VersionChanged</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.17</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.83</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This cop checks for ambiguous operators in the first argument of a
method invocation without parentheses.</p>
</div>
<div class="sect2">
<h3 id="examples-3"><a class="anchor" href="#examples-3"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad

# The `*` is interpreted as a splat operator but it could possibly be
# a `*` method invocation (i.e. `do_something.*(some_array)`).
do_something *some_array</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good

# With parentheses, there's no ambiguity.
do_something(*some_array)</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-2"><a class="anchor" href="#references-2"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#method-invocation-parens" class="bare">https://rubystyle.guide#method-invocation-parens</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintambiguousregexpliteral"><a class="anchor" href="#lintambiguousregexpliteral"></a>Lint/AmbiguousRegexpLiteral</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">VersionAdded</th>
<th class="tableblock halign-left valign-top">VersionChanged</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.17</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.83</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This cop checks for ambiguous regexp literals in the first argument of
a method invocation without parentheses.</p>
</div>
<div class="sect2">
<h3 id="examples-4"><a class="anchor" href="#examples-4"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad

# This is interpreted as a method invocation with a regexp literal,
# but it could possibly be `/` method invocations.
# (i.e. `do_something./(pattern)./(i)`)
do_something /pattern/i</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good

# With parentheses, there's no ambiguity.
do_something(/pattern/i)</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintassignmentincondition"><a class="anchor" href="#lintassignmentincondition"></a>Lint/AssignmentInCondition</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">VersionAdded</th>
<th class="tableblock halign-left valign-top">VersionChanged</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This cop checks for assignments in the conditions of
if/while/until.</p>
</div>
<div class="paragraph">
<p><code>AllowSafeAssignment</code> option for safe assignment.
By safe assignment we mean putting parentheses around
an assignment to indicate "I know I&#8217;m using an assignment
as a condition. It&#8217;s not a mistake."</p>
</div>
<div class="sect2">
<h3 id="examples-5"><a class="anchor" href="#examples-5"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
if some_var = true
  do_something
end

# good
if some_var == true
  do_something
end</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="allowsafeassignment-true-default"><a class="anchor" href="#allowsafeassignment-true-default"></a>AllowSafeAssignment: true (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
if (some_var = true)
  do_something
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowsafeassignment-false"><a class="anchor" href="#allowsafeassignment-false"></a>AllowSafeAssignment: false</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
if (some_var = true)
  do_something
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes"><a class="anchor" href="#configurable-attributes"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowSafeAssignment</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-3"><a class="anchor" href="#references-3"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#safe-assignment-in-condition" class="bare">https://rubystyle.guide#safe-assignment-in-condition</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintbigdecimalnew"><a class="anchor" href="#lintbigdecimalnew"></a>Lint/BigDecimalNew</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">VersionAdded</th>
<th class="tableblock halign-left valign-top">VersionChanged</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.53</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><code>BigDecimal.new()</code> is deprecated since BigDecimal 1.3.3.
This cop identifies places where <code>BigDecimal.new()</code>
can be replaced by <code>BigDecimal()</code>.</p>
</div>
<div class="sect2">
<h3 id="examples-6"><a class="anchor" href="#examples-6"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
BigDecimal.new(123.456, 3)

# good
BigDecimal(123.456, 3)</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintbinaryoperatorwithidenticaloperands"><a class="anchor" href="#lintbinaryoperatorwithidenticaloperands"></a>Lint/BinaryOperatorWithIdenticalOperands</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">VersionAdded</th>
<th class="tableblock halign-left valign-top">VersionChanged</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.89</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.7</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This cop checks for places where binary operator has identical operands.</p>
</div>
<div class="paragraph">
<p>It covers arithmetic operators: <code>+</code>, <code>-</code>, <code><strong></code>, <code>/</code>, <code>%</code>, <code></strong>*</code>;
comparison operators: <code>==</code>, <code>===</code>, <code>=~</code>, <code>&gt;</code>, <code>&gt;=</code>, <code>&lt;</code>, <code>&#8656;</code>;
bitwise operators: <code>|</code>, <code>^</code>, <code>&amp;</code>, <code>&lt;&lt;</code>, <code>&gt;&gt;</code>;
boolean operators: <code>&amp;&amp;</code>, <code>||</code>
and "spaceship" operator - <code>&lt;&#8658;</code>.</p>
</div>
<div class="paragraph">
<p>This cop is marked as unsafe as it does not consider side effects when calling methods
and thus can generate false positives:
  if wr.take_char == '\0' &amp;&amp; wr.take_char == '\0'</p>
</div>
<div class="sect2">
<h3 id="examples-7"><a class="anchor" href="#examples-7"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
x / x
x.top &gt;= x.top

if a.x != 0 &amp;&amp; a.x != 0
  do_something
end

def childs?
  left_child || left_child
end

# good
x + x
1 &lt;&lt; 1</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintbooleansymbol"><a class="anchor" href="#lintbooleansymbol"></a>Lint/BooleanSymbol</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">VersionAdded</th>
<th class="tableblock halign-left valign-top">VersionChanged</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.50</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.83</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This cop checks for <code>:true</code> and <code>:false</code> symbols.
In most cases it would be a typo.</p>
</div>
<div class="sect2">
<h3 id="examples-8"><a class="anchor" href="#examples-8"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
:true

# good
true</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
:false

# good
false</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintcircularargumentreference"><a class="anchor" href="#lintcircularargumentreference"></a>Lint/CircularArgumentReference</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">VersionAdded</th>
<th class="tableblock halign-left valign-top">VersionChanged</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.33</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This cop checks for circular argument references in optional keyword
arguments and optional ordinal arguments.</p>
</div>
<div class="paragraph">
<p>This cop mirrors a warning produced by MRI since 2.2.</p>
</div>
<div class="sect2">
<h3 id="examples-9"><a class="anchor" href="#examples-9"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad

def bake(pie: pie)
  pie.heat_up
end</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good

def bake(pie:)
  pie.refrigerate
end</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good

def bake(pie: self.pie)
  pie.feed_to(user)
end</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad

def cook(dry_ingredients = dry_ingredients)
  dry_ingredients.reduce(&amp;:+)
end</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good

def cook(dry_ingredients = self.dry_ingredients)
  dry_ingredients.combine
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintconstantdefinitioninblock"><a class="anchor" href="#lintconstantdefinitioninblock"></a>Lint/ConstantDefinitionInBlock</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">VersionAdded</th>
<th class="tableblock halign-left valign-top">VersionChanged</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.91</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.3</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Do not define constants within a block, since the block&#8217;s scope does not
isolate or namespace the constant in any way.</p>
</div>
<div class="paragraph">
<p>If you are trying to define that constant once, define it outside of
the block instead, or use a variable or method if defining the constant
in the outer scope would be problematic.</p>
</div>
<div class="paragraph">
<p>For meta-programming, use <code>const_set</code>.</p>
</div>
<div class="sect2">
<h3 id="examples-10"><a class="anchor" href="#examples-10"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
task :lint do
  FILES_TO_LINT = Dir['lib/*.rb']
end

# bad
describe 'making a request' do
  class TestRequest; end
end

# bad
module M
  extend ActiveSupport::Concern
  included do
    LIST = []
  end
end

# good
task :lint do
  files_to_lint = Dir['lib/*.rb']
end

# good
describe 'making a request' do
  let(:test_request) { Class.new }
  # see also `stub_const` for RSpec
end

# good
module M
  extend ActiveSupport::Concern
  included do
    const_set(:LIST, [])
  end
end</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="allowedmethods-enums-default"><a class="anchor" href="#allowedmethods-enums-default"></a>AllowedMethods: ['enums'] (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good

# `enums` for Typed Enums via `T::Enum` in Sorbet.
# https://sorbet.org/docs/tenum
class TestEnum &lt; T::Enum
  enums do
    Foo = new("foo")
  end
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-2"><a class="anchor" href="#configurable-attributes-2"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>enums</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-4"><a class="anchor" href="#references-4"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-constant-definition-in-block" class="bare">https://rubystyle.guide#no-constant-definition-in-block</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintconstantresolution"><a class="anchor" href="#lintconstantresolution"></a>Lint/ConstantResolution</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">VersionAdded</th>
<th class="tableblock halign-left valign-top">VersionChanged</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.86</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Check that certain constants are fully qualified.</p>
</div>
<div class="paragraph">
<p>This is not enabled by default because it would mark a lot of offenses
unnecessarily.</p>
</div>
<div class="paragraph">
<p>Generally, gems should fully qualify all constants to avoid conflicts with
the code that uses the gem. Enable this cop without using <code>Only</code>/<code>Ignore</code></p>
</div>
<div class="paragraph">
<p>Large projects will over time end up with one or two constant names that
are problematic because of a conflict with a library or just internally
using the same name a namespace and a class. To avoid too many unnecessary
offenses, Enable this cop with <code>Only: [The, Constant, Names, Causing, Issues]</code></p>
</div>
<div class="sect2">
<h3 id="examples-11"><a class="anchor" href="#examples-11"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># By default checks every constant

# bad
User

# bad
User::Login

# good
::User

# good
::User::Login</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="only-login"><a class="anchor" href="#only-login"></a>Only: ['Login']</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># Restrict this cop to only being concerned about certain constants

# bad
Login

# good
::Login

# good
User::Login</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="ignore-login"><a class="anchor" href="#ignore-login"></a>Ignore: ['Login']</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># Restrict this cop not being concerned about certain constants

# bad
User

# good
::User::Login

# good
Login</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-3"><a class="anchor" href="#configurable-attributes-3"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Only</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ignore</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintdebugger"><a class="anchor" href="#lintdebugger"></a>Lint/Debugger</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">VersionAdded</th>
<th class="tableblock halign-left valign-top">VersionChanged</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.10</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This cop checks for debug calls (such as <code>debugger</code> or <code>binding.pry</code>) that should
not be kept for production code.</p>
</div>
<div class="paragraph">
<p>The cop can be configured using <code>DebuggerMethods</code>. By default, a number of gems
debug entrypoints are configured (<code>Kernel</code>, <code>Byebug</code>, <code>Capybara</code>, <code>Pry</code>, <code>Rails</code>,
and <code>WebConsole</code>). Additional methods can be added.</p>
</div>
<div class="paragraph">
<p>Specific default groups can be disabled if necessary:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">Lint/Debugger:
  WebConsole: ~
---

=== Examples

[source,ruby]</code></pre>
</div>
</div>
</div>
</div>
<h1 id="bad-ok-during-development" class="sect0"><a class="anchor" href="#bad-ok-during-development"></a>bad (ok during development)</h1>

<h1 id="using-pry" class="sect0"><a class="anchor" href="#using-pry"></a>using pry</h1>
<div class="paragraph">
<p>def some_method
  binding.pry
  do_something
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[source,ruby]</pre>
</div>
</div>
<h1 id="bad-ok-during-development-2" class="sect0"><a class="anchor" href="#bad-ok-during-development-2"></a>bad (ok during development)</h1>

<h1 id="using-byebug" class="sect0"><a class="anchor" href="#using-byebug"></a>using byebug</h1>
<div class="paragraph">
<p>def some_method
  byebug
  do_something
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[source,ruby]</pre>
</div>
</div>
<h1 id="good" class="sect0"><a class="anchor" href="#good"></a>good</h1>
<div class="paragraph">
<p>def some_method
  do_something
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== DebuggerMethods: [my_debugger]

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-ok-during-development-3" class="sect0"><a class="anchor" href="#bad-ok-during-development-3"></a>bad (ok during development)</h1>
<div class="paragraph">
<p>def some_method
  my_debugger
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== Configurable attributes

|===
| Name | Default value | Configurable values

| DebuggerReceivers
| `[]`
| Array

| DebuggerMethods
| `{"Kernel"=&gt;["binding.irb"], "Byebug"=&gt;["byebug", "remote_byebug", "Kernel.byebug", "Kernel.remote_byebug"], "Capybara"=&gt;["save_and_open_page", "save_and_open_screenshot"], "Pry"=&gt;["binding.pry", "binding.remote_pry", "binding.pry_remote", "Pry.rescue"], "Rails"=&gt;["debugger", "Kernel.debugger"], "WebConsole"=&gt;["binding.console"]}`
|
|===

== Lint/DeprecatedClassMethods

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| Yes
| 0.19
| -
|===

This cop checks for uses of the deprecated class method usages.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad" class="sect0"><a class="anchor" href="#bad"></a>bad</h1>
<div class="paragraph">
<p>File.exists?(some_path)
Dir.exists?(some_path)
iterator?</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[source,ruby]</pre>
</div>
</div>
<h1 id="good-2" class="sect0"><a class="anchor" href="#good-2"></a>good</h1>
<div class="paragraph">
<p>File.exist?(some_path)
Dir.exist?(some_path)
block_given?</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/DeprecatedConstants

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Pending
| Yes
| Yes
| 1.8
| -
|===

This cop checks for deprecated constants.

It has `DeprecatedConstants` config. If there is an alternative method, you can set
alternative value as `Alternative`. And you can set the deprecated version as
`DeprecatedVersion`. These options can be omitted if they are not needed.

  DeprecatedConstants:
    'DEPRECATED_CONSTANT':
      Alternative: 'alternative_value'
      DeprecatedVersion: 'deprecated_version'

By default, `NIL`, `TRUE`, `FALSE` and `Random::DEFAULT` are configured.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-2" class="sect0"><a class="anchor" href="#bad-2"></a>bad</h1>
<div class="paragraph">
<p>NIL
TRUE
FALSE
Random::DEFAULT # Return value of Ruby 2 is <code>Random</code> instance, Ruby 3.0 is <code>Random</code> class.</p>
</div>
<h1 id="good-3" class="sect0"><a class="anchor" href="#good-3"></a>good</h1>
<div class="paragraph">
<p>nil
true
false
Random.new # <code>::DEFAULT</code> has been deprecated in Ruby 3, <code>.new</code> is compatible with Ruby 2.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== Configurable attributes

|===
| Name | Default value | Configurable values

| DeprecatedConstants
| `{"NIL"=&gt;{"Alternative"=&gt;"nil", "DeprecatedVersion"=&gt;"2.4"}, "TRUE"=&gt;{"Alternative"=&gt;"true", "DeprecatedVersion"=&gt;"2.4"}, "FALSE"=&gt;{"Alternative"=&gt;"false", "DeprecatedVersion"=&gt;"2.4"}, "Random::DEFAULT"=&gt;{"Alternative"=&gt;"Random.new", "DeprecatedVersion"=&gt;"3.0"}}`
|
|===

== Lint/DeprecatedOpenSSLConstant

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| Yes
| 0.84
| -
|===

Algorithmic constants for `OpenSSL::Cipher` and `OpenSSL::Digest`
deprecated since OpenSSL version 2.2.0. Prefer passing a string
instead.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="example-for-opensslcipher-instantiation" class="sect0"><a class="anchor" href="#example-for-opensslcipher-instantiation"></a>Example for OpenSSL::Cipher instantiation.</h1>

<h1 id="bad-3" class="sect0"><a class="anchor" href="#bad-3"></a>bad</h1>
<div class="paragraph">
<p>OpenSSL::Cipher::AES.new(128, :GCM)</p>
</div>
<h1 id="good-4" class="sect0"><a class="anchor" href="#good-4"></a>good</h1>
<div class="paragraph">
<p>OpenSSL::Cipher.new('aes-128-gcm')</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[source,ruby]</pre>
</div>
</div>
<h1 id="example-for-openssldigest-instantiation" class="sect0"><a class="anchor" href="#example-for-openssldigest-instantiation"></a>Example for OpenSSL::Digest instantiation.</h1>

<h1 id="bad-4" class="sect0"><a class="anchor" href="#bad-4"></a>bad</h1>
<div class="paragraph">
<p>OpenSSL::Digest::SHA256.new</p>
</div>
<h1 id="good-5" class="sect0"><a class="anchor" href="#good-5"></a>good</h1>
<div class="paragraph">
<p>OpenSSL::Digest.new('SHA256')</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[source,ruby]</pre>
</div>
</div>
<h1 id="example-for-digest-inherited-class-methods" class="sect0"><a class="anchor" href="#example-for-digest-inherited-class-methods"></a>Example for ::Digest inherited class methods.</h1>

<h1 id="bad-5" class="sect0"><a class="anchor" href="#bad-5"></a>bad</h1>
<div class="paragraph">
<p>OpenSSL::Digest::SHA256.digest('foo')</p>
</div>
<h1 id="good-6" class="sect0"><a class="anchor" href="#good-6"></a>good</h1>
<div class="paragraph">
<p>OpenSSL::Digest.digest('SHA256', 'foo')</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/DisjunctiveAssignmentInConstructor

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| No
| Yes (Unsafe)
| 0.62
| 0.88
|===

This cop checks constructors for disjunctive assignments that should
be plain assignments.

So far, this cop is only concerned with disjunctive assignment of
instance variables.

In ruby, an instance variable is nil until a value is assigned, so the
disjunction is unnecessary. A plain assignment has the same effect.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-6" class="sect0"><a class="anchor" href="#bad-6"></a>bad</h1>
<div class="paragraph">
<p>def initialize
  @x ||= 1
end</p>
</div>
<h1 id="good-7" class="sect0"><a class="anchor" href="#good-7"></a>good</h1>
<div class="paragraph">
<p>def initialize
  @x = 1
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/DuplicateBranch

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Pending
| Yes
| No
| 1.3
| 1.7
|===

This cop checks that there are no repeated bodies
within `if/unless`, `case-when` and `rescue` constructs.

With `IgnoreLiteralBranches: true`, branches are not registered
as offenses if they return a basic literal value (string, symbol,
integer, float, rational, complex, `true`, `false`, or `nil`), or
return an array, hash, regexp or range that only contains one of
the above basic literal values.

With `IgnoreConstantBranches: true`, branches are not registered
as offenses if they return a constant value.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-7" class="sect0"><a class="anchor" href="#bad-7"></a>bad</h1>
<div class="paragraph">
<p>if foo
  do_foo
  do_something_else
elsif bar
  do_foo
  do_something_else
end</p>
</div>
<h1 id="good-8" class="sect0"><a class="anchor" href="#good-8"></a>good</h1>
<div class="paragraph">
<p>if foo || bar
  do_foo
  do_something_else
end</p>
</div>
<h1 id="bad-8" class="sect0"><a class="anchor" href="#bad-8"></a>bad</h1>
<div class="paragraph">
<p>case x
when foo
  do_foo
when bar
  do_foo
else
  do_something_else
end</p>
</div>
<h1 id="good-9" class="sect0"><a class="anchor" href="#good-9"></a>good</h1>
<div class="paragraph">
<p>case x
when foo, bar
  do_foo
else
  do_something_else
end</p>
</div>
<h1 id="bad-9" class="sect0"><a class="anchor" href="#bad-9"></a>bad</h1>
<div class="paragraph">
<p>begin
  do_something
rescue FooError
  handle_error
rescue BarError
  handle_error
end</p>
</div>
<h1 id="good-10" class="sect0"><a class="anchor" href="#good-10"></a>good</h1>
<div class="paragraph">
<p>begin
  do_something
rescue FooError, BarError
  handle_error
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== IgnoreLiteralBranches: true

[source,ruby]</pre>
</div>
</div>
<h1 id="good-11" class="sect0"><a class="anchor" href="#good-11"></a>good</h1>
<div class="paragraph">
<p>case size
when "small" then 100
when "medium" then 250
when "large" then 1000
else 250
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== IgnoreLiteralBranches: true

[source,ruby]</pre>
</div>
</div>
<h1 id="good-12" class="sect0"><a class="anchor" href="#good-12"></a>good</h1>
<div class="paragraph">
<p>case size
when "small" then SMALL_SIZE
when "medium" then MEDIUM_SIZE
when "large" then LARGE_SIZE
else MEDIUM_SIZE
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== Configurable attributes

|===
| Name | Default value | Configurable values

| IgnoreLiteralBranches
| `false`
| Boolean

| IgnoreConstantBranches
| `false`
| Boolean
|===

== Lint/DuplicateCaseCondition

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| No
| 0.45
| -
|===

This cop checks that there are no repeated conditions
used in case 'when' expressions.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-10" class="sect0"><a class="anchor" href="#bad-10"></a>bad</h1>
<div class="paragraph">
<p>case x
when 'first'
  do_something
when 'first'
  do_something_else
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[source,ruby]</pre>
</div>
</div>
<h1 id="good-13" class="sect0"><a class="anchor" href="#good-13"></a>good</h1>
<div class="paragraph">
<p>case x
when 'first'
  do_something
when 'second'
  do_something_else
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/DuplicateElsifCondition

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| No
| 0.88
| -
|===

This cop checks that there are no repeated conditions used in if 'elsif'.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-11" class="sect0"><a class="anchor" href="#bad-11"></a>bad</h1>
<div class="paragraph">
<p>if x == 1
  do_something
elsif x == 1
  do_something_else
end</p>
</div>
<h1 id="good-14" class="sect0"><a class="anchor" href="#good-14"></a>good</h1>
<div class="paragraph">
<p>if x == 1
  do_something
elsif x == 2
  do_something_else
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/DuplicateHashKey

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| No
| 0.34
| 0.77
|===

This cop checks for duplicated keys in hash literals.

This cop mirrors a warning in Ruby 2.2.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-12" class="sect0"><a class="anchor" href="#bad-12"></a>bad</h1>
<div class="paragraph">
<p>hash = { food: 'apple', food: 'orange' }</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[source,ruby]</pre>
</div>
</div>
<h1 id="good-15" class="sect0"><a class="anchor" href="#good-15"></a>good</h1>
<div class="paragraph">
<p>hash = { food: 'apple', other_food: 'orange' }</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/DuplicateMethods

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| No
| 0.29
| -
|===

This cop checks for duplicated instance (or singleton) method
definitions.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-13" class="sect0"><a class="anchor" href="#bad-13"></a>bad</h1>
<div class="paragraph">
<p>def foo
  1
end</p>
</div>
<div class="paragraph">
<p>def foo
  2
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[source,ruby]</pre>
</div>
</div>
<h1 id="bad-14" class="sect0"><a class="anchor" href="#bad-14"></a>bad</h1>
<div class="paragraph">
<p>def foo
  1
end</p>
</div>
<div class="paragraph">
<p>alias foo bar</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[source,ruby]</pre>
</div>
</div>
<h1 id="good-16" class="sect0"><a class="anchor" href="#good-16"></a>good</h1>
<div class="paragraph">
<p>def foo
  1
end</p>
</div>
<div class="paragraph">
<p>def bar
  2
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[source,ruby]</pre>
</div>
</div>
<h1 id="good-17" class="sect0"><a class="anchor" href="#good-17"></a>good</h1>
<div class="paragraph">
<p>def foo
  1
end</p>
</div>
<div class="paragraph">
<p>alias bar foo</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/DuplicateRegexpCharacterClassElement

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Pending
| Yes
| Yes
| 1.1
| -
|===

This cop checks for duplicate elements in Regexp character classes.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-15" class="sect0"><a class="anchor" href="#bad-15"></a>bad</h1>
<div class="paragraph">
<p>r = /[xyx]/</p>
</div>
<h1 id="bad-16" class="sect0"><a class="anchor" href="#bad-16"></a>bad</h1>
<div class="paragraph">
<p>r = /[0-9x0-9]/</p>
</div>
<h1 id="good-18" class="sect0"><a class="anchor" href="#good-18"></a>good</h1>
<div class="paragraph">
<p>r = /[xy]/</p>
</div>
<h1 id="good-19" class="sect0"><a class="anchor" href="#good-19"></a>good</h1>
<div class="paragraph">
<p>r = /[0-9x]/</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/DuplicateRequire

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| No
| 0.90
| -
|===

This cop checks for duplicate `require`s and `require_relative`s.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-17" class="sect0"><a class="anchor" href="#bad-17"></a>bad</h1>
<div class="paragraph">
<p>require 'foo'
require 'bar'
require 'foo'</p>
</div>
<h1 id="good-20" class="sect0"><a class="anchor" href="#good-20"></a>good</h1>
<div class="paragraph">
<p>require 'foo'
require 'bar'</p>
</div>
<h1 id="good-21" class="sect0"><a class="anchor" href="#good-21"></a>good</h1>
<div class="paragraph">
<p>require 'foo'
require_relative 'foo'</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/DuplicateRescueException

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| No
| 0.89
| -
|===

This cop checks that there are no repeated exceptions
used in 'rescue' expressions.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-18" class="sect0"><a class="anchor" href="#bad-18"></a>bad</h1>
<div class="paragraph">
<p>begin
  something
rescue FirstException
  handle_exception
rescue FirstException
  handle_other_exception
end</p>
</div>
<h1 id="good-22" class="sect0"><a class="anchor" href="#good-22"></a>good</h1>
<div class="paragraph">
<p>begin
  something
rescue FirstException
  handle_exception
rescue SecondException
  handle_other_exception
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/EachWithObjectArgument

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| No
| 0.31
| -
|===

This cop checks if each_with_object is called with an immutable
argument. Since the argument is the object that the given block shall
make calls on to build something based on the enumerable that
each_with_object iterates over, an immutable argument makes no sense.
It's definitely a bug.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-19" class="sect0"><a class="anchor" href="#bad-19"></a>bad</h1>
<div class="paragraph">
<p>sum = numbers.each_with_object(0) { |e, a| a += e }</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[source,ruby]</pre>
</div>
</div>
<h1 id="good-23" class="sect0"><a class="anchor" href="#good-23"></a>good</h1>
<div class="paragraph">
<p>num = 0
sum = numbers.each_with_object(num) { |e, a| a += e }</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/ElseLayout

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| Yes
| 0.17
| 1.2
|===

This cop checks for odd `else` block layout - like
having an expression on the same line as the `else` keyword,
which is usually a mistake.

Its auto-correction tweaks layout to keep the syntax. So, this auto-correction
is compatible correction for bad case syntax, but if your code makes a mistake
with `elsif` and `else`, you will have to correct it manually.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-20" class="sect0"><a class="anchor" href="#bad-20"></a>bad</h1>
<div class="paragraph">
<p>if something
  # &#8230;&#8203;
else do_this
  do_that
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[source,ruby]</pre>
</div>
</div>
<h1 id="good-24" class="sect0"><a class="anchor" href="#good-24"></a>good</h1>

<h1 id="this-code-is-compatible-with-the-bad-case-it-will-be-auto-corrected-like-this" class="sect0"><a class="anchor" href="#this-code-is-compatible-with-the-bad-case-it-will-be-auto-corrected-like-this"></a>This code is compatible with the bad case. It will be auto-corrected like this.</h1>
<div class="paragraph">
<p>if something
  # &#8230;&#8203;
else
  do_this
  do_that
end</p>
</div>
<h1 id="this-code-is-incompatible-with-the-bad-case" class="sect0"><a class="anchor" href="#this-code-is-incompatible-with-the-bad-case"></a>This code is incompatible with the bad case.</h1>

<h1 id="if-do_this-is-a-condition-elsif-should-be-used-instead-of-else" class="sect0"><a class="anchor" href="#if-do_this-is-a-condition-elsif-should-be-used-instead-of-else"></a>If <code>do_this</code> is a condition, <code>elsif</code> should be used instead of <code>else</code>.</h1>
<div class="paragraph">
<p>if something
  # &#8230;&#8203;
elsif do_this
  do_that
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/EmptyBlock

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Pending
| Yes
| No
| 1.1
| 1.3
|===

This cop checks for blocks without a body.
Such empty blocks are typically an oversight or we should provide a comment
be clearer what we're aiming for.

Empty lambdas are ignored by default.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-21" class="sect0"><a class="anchor" href="#bad-21"></a>bad</h1>
<div class="paragraph">
<p>items.each { |item| }</p>
</div>
<h1 id="good-25" class="sect0"><a class="anchor" href="#good-25"></a>good</h1>
<div class="paragraph">
<p>items.each { |item| puts item }</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== AllowComments: true (default)

[source,ruby]</pre>
</div>
</div>
<h1 id="good-26" class="sect0"><a class="anchor" href="#good-26"></a>good</h1>
<div class="paragraph">
<p>items.each do |item|
  # TODO: implement later (inner comment)
end</p>
</div>
<div class="paragraph">
<p>items.each { |item| } # TODO: implement later (inline comment)</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== AllowComments: false

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-22" class="sect0"><a class="anchor" href="#bad-22"></a>bad</h1>
<div class="paragraph">
<p>items.each do |item|
  # TODO: implement later (inner comment)
end</p>
</div>
<div class="paragraph">
<p>items.each { |item| } # TODO: implement later (inline comment)</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== AllowEmptyLambdas: true (default)

[source,ruby]</pre>
</div>
</div>
<h1 id="good-27" class="sect0"><a class="anchor" href="#good-27"></a>good</h1>
<div class="paragraph">
<p>allow(subject).to receive(:callable).and_return(&#8594; {})</p>
</div>
<div class="paragraph">
<p>placeholder = lambda do
end
(callable || placeholder).call</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== AllowEmptyLambdas: false

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-23" class="sect0"><a class="anchor" href="#bad-23"></a>bad</h1>
<div class="paragraph">
<p>allow(subject).to receive(:callable).and_return(&#8594; {})</p>
</div>
<div class="paragraph">
<p>placeholder = lambda do
end
(callable || placeholder).call</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== Configurable attributes

|===
| Name | Default value | Configurable values

| AllowComments
| `true`
| Boolean

| AllowEmptyLambdas
| `true`
| Boolean
|===

== Lint/EmptyClass

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Pending
| Yes
| No
| 1.3
| -
|===

This cop checks for classes and metaclasses without a body.
Such empty classes and metaclasses are typically an oversight or we should provide a comment
to be clearer what we're aiming for.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-24" class="sect0"><a class="anchor" href="#bad-24"></a>bad</h1>
<div class="paragraph">
<p>class Foo
end</p>
</div>
<div class="paragraph">
<p>class Bar
  class &lt;&lt; self
  end
end</p>
</div>
<div class="paragraph">
<p>class &lt;&lt; obj
end</p>
</div>
<h1 id="good-28" class="sect0"><a class="anchor" href="#good-28"></a>good</h1>
<div class="paragraph">
<p>class Foo
  def do_something
    # &#8230;&#8203; code
  end
end</p>
</div>
<div class="paragraph">
<p>class Bar
  class &lt;&lt; self
    attr_reader :bar
  end
end</p>
</div>
<div class="paragraph">
<p>class &lt;&lt; obj
  attr_reader :bar
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== AllowComments: false (default)

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-25" class="sect0"><a class="anchor" href="#bad-25"></a>bad</h1>
<div class="paragraph">
<p>class Foo
  # TODO: implement later
end</p>
</div>
<div class="paragraph">
<p>class Bar
  class &lt;&lt; self
    # TODO: implement later
  end
end</p>
</div>
<div class="paragraph">
<p>class &lt;&lt; obj
  # TODO: implement later
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== AllowComments: true

[source,ruby]</pre>
</div>
</div>
<h1 id="good-29" class="sect0"><a class="anchor" href="#good-29"></a>good</h1>
<div class="paragraph">
<p>class Foo
  # TODO: implement later
end</p>
</div>
<div class="paragraph">
<p>class Bar
  class &lt;&lt; self
    # TODO: implement later
  end
end</p>
</div>
<div class="paragraph">
<p>class &lt;&lt; obj
  # TODO: implement later
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== Configurable attributes

|===
| Name | Default value | Configurable values

| AllowComments
| `false`
| Boolean
|===

== Lint/EmptyConditionalBody

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| No
| 0.89
| -
|===

This cop checks for the presence of `if`, `elsif` and `unless` branches without a body.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-26" class="sect0"><a class="anchor" href="#bad-26"></a>bad</h1>
<div class="paragraph">
<p>if condition
end</p>
</div>
<h1 id="bad-27" class="sect0"><a class="anchor" href="#bad-27"></a>bad</h1>
<div class="paragraph">
<p>unless condition
end</p>
</div>
<h1 id="bad-28" class="sect0"><a class="anchor" href="#bad-28"></a>bad</h1>
<div class="paragraph">
<p>if condition
  do_something
elsif other_condition
end</p>
</div>
<h1 id="good-30" class="sect0"><a class="anchor" href="#good-30"></a>good</h1>
<div class="paragraph">
<p>if condition
  do_something
end</p>
</div>
<h1 id="good-31" class="sect0"><a class="anchor" href="#good-31"></a>good</h1>
<div class="paragraph">
<p>unless condition
  do_something
end</p>
</div>
<h1 id="good-32" class="sect0"><a class="anchor" href="#good-32"></a>good</h1>
<div class="paragraph">
<p>if condition
  do_something
elsif other_condition
  do_something_else
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== AllowComments: true (default)

[source,ruby]</pre>
</div>
</div>
<h1 id="good-33" class="sect0"><a class="anchor" href="#good-33"></a>good</h1>
<div class="paragraph">
<p>if condition
  do_something
elsif other_condition
  # noop
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== AllowComments: false

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-29" class="sect0"><a class="anchor" href="#bad-29"></a>bad</h1>
<div class="paragraph">
<p>if condition
  do_something
elsif other_condition
  # noop
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== Configurable attributes

|===
| Name | Default value | Configurable values

| AllowComments
| `true`
| Boolean
|===

== Lint/EmptyEnsure

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| Yes
| 0.10
| 0.48
|===

This cop checks for empty `ensure` blocks

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-30" class="sect0"><a class="anchor" href="#bad-30"></a>bad</h1>
<div class="paragraph">
<p>def some_method
  do_something
ensure
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[source,ruby]</pre>
</div>
</div>
<h1 id="bad-31" class="sect0"><a class="anchor" href="#bad-31"></a>bad</h1>
<div class="paragraph">
<p>begin
  do_something
ensure
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[source,ruby]</pre>
</div>
</div>
<h1 id="good-34" class="sect0"><a class="anchor" href="#good-34"></a>good</h1>
<div class="paragraph">
<p>def some_method
  do_something
ensure
  do_something_else
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[source,ruby]</pre>
</div>
</div>
<h1 id="good-35" class="sect0"><a class="anchor" href="#good-35"></a>good</h1>
<div class="paragraph">
<p>begin
  do_something
ensure
  do_something_else
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/EmptyExpression

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| No
| 0.45
| -
|===

This cop checks for the presence of empty expressions.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-32" class="sect0"><a class="anchor" href="#bad-32"></a>bad</h1>
<div class="paragraph">
<p>foo = ()
if ()
  bar
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[source,ruby]</pre>
</div>
</div>
<h1 id="good-36" class="sect0"><a class="anchor" href="#good-36"></a>good</h1>
<div class="paragraph">
<p>foo = (some_expression)
if (some_expression)
  bar
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/EmptyFile

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| No
| 0.90
| -
|===

This cop enforces that Ruby source files are not empty.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-33" class="sect0"><a class="anchor" href="#bad-33"></a>bad</h1>

<h1 id="empty-file" class="sect0"><a class="anchor" href="#empty-file"></a>Empty file</h1>

<h1 id="good-37" class="sect0"><a class="anchor" href="#good-37"></a>good</h1>

<h1 id="file-containing-non-commented-source-lines" class="sect0"><a class="anchor" href="#file-containing-non-commented-source-lines"></a>File containing non commented source lines</h1>
<div class="listingblock">
<div class="content">
<pre>==== AllowComments: true (default)

[source,ruby]</pre>
</div>
</div>
<h1 id="good-38" class="sect0"><a class="anchor" href="#good-38"></a>good</h1>

<h1 id="file-consisting-only-of-comments" class="sect0"><a class="anchor" href="#file-consisting-only-of-comments"></a>File consisting only of comments</h1>
<div class="listingblock">
<div class="content">
<pre>==== AllowComments: false

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-34" class="sect0"><a class="anchor" href="#bad-34"></a>bad</h1>

<h1 id="file-consisting-only-of-comments-2" class="sect0"><a class="anchor" href="#file-consisting-only-of-comments-2"></a>File consisting only of comments</h1>
<div class="listingblock">
<div class="content">
<pre>=== Configurable attributes

|===
| Name | Default value | Configurable values

| AllowComments
| `true`
| Boolean
|===

== Lint/EmptyInterpolation

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| Yes
| 0.20
| 0.45
|===

This cop checks for empty interpolation.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-35" class="sect0"><a class="anchor" href="#bad-35"></a>bad</h1>
<div class="paragraph">
<p>"result is #{}"</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[source,ruby]</pre>
</div>
</div>
<h1 id="good-39" class="sect0"><a class="anchor" href="#good-39"></a>good</h1>
<div class="paragraph">
<p>"result is #{some_result}"</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/EmptyWhen

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| No
| 0.45
| 0.83
|===

This cop checks for the presence of `when` branches without a body.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-36" class="sect0"><a class="anchor" href="#bad-36"></a>bad</h1>
<div class="paragraph">
<p>case foo
when bar
  do_something
when baz
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[source,ruby]</pre>
</div>
</div>
<h1 id="good-40" class="sect0"><a class="anchor" href="#good-40"></a>good</h1>
<div class="paragraph">
<p>case condition
when foo
  do_something
when bar
  nil
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== AllowComments: true (default)

[source,ruby]</pre>
</div>
</div>
<h1 id="good-41" class="sect0"><a class="anchor" href="#good-41"></a>good</h1>
<div class="paragraph">
<p>case condition
when foo
  do_something
when bar
  # noop
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== AllowComments: false

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-37" class="sect0"><a class="anchor" href="#bad-37"></a>bad</h1>
<div class="paragraph">
<p>case condition
when foo
  do_something
when bar
  # do nothing
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== Configurable attributes

|===
| Name | Default value | Configurable values

| AllowComments
| `true`
| Boolean
|===

== Lint/EnsureReturn

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| Yes
| 0.9
| 0.83
|===

This cop checks for `return` from an `ensure` block.
`return` from an ensure block is a dangerous code smell as it
will take precedence over any exception being raised,
and the exception will be silently thrown away as if it were rescued.

If you want to rescue some (or all) exceptions, best to do it explicitly

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-38" class="sect0"><a class="anchor" href="#bad-38"></a>bad</h1>
<div class="paragraph">
<p>def foo
  do_something
ensure
  cleanup
  return self
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[source,ruby]</pre>
</div>
</div>
<h1 id="good-42" class="sect0"><a class="anchor" href="#good-42"></a>good</h1>
<div class="paragraph">
<p>def foo
  do_something
  self
ensure
  cleanup
end</p>
</div>
<h1 id="also-good" class="sect0"><a class="anchor" href="#also-good"></a>also good</h1>
<div class="paragraph">
<p>def foo
  begin
    do_something
  rescue SomeException
    # Let&#8217;s ignore this exception
  end
  self
ensure
  cleanup
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== References

* https://rubystyle.guide#no-return-ensure

== Lint/ErbNewArguments

NOTE: Required Ruby version: 2.6

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| Yes
| 0.56
| -
|===

This cop emulates the following Ruby warnings in Ruby 2.6.

% cat example.rb
ERB.new('hi', nil, '-', '@output_buffer')
% ruby -rerb example.rb
example.rb:1: warning: Passing safe_level with the 2nd argument of
ERB.new is deprecated. Do not use it, and specify other arguments as
keyword arguments.
example.rb:1: warning: Passing trim_mode with the 3rd argument of
ERB.new is deprecated. Use keyword argument like
ERB.new(str, trim_mode:...) instead.
example.rb:1: warning: Passing eoutvar with the 4th argument of ERB.new
is deprecated. Use keyword argument like ERB.new(str, eoutvar: ...)
instead.

Now non-keyword arguments other than first one are softly deprecated
and will be removed when Ruby 2.5 becomes EOL.
`ERB.new` with non-keyword arguments is deprecated since ERB 2.2.0.
Use `:trim_mode` and `:eoutvar` keyword arguments to `ERB.new`.
This cop identifies places where `ERB.new(str, trim_mode, eoutvar)` can
be replaced by `ERB.new(str, :trim_mode: trim_mode, eoutvar: eoutvar)`.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="target-codes-supports-ruby-2-6-and-higher-only" class="sect0"><a class="anchor" href="#target-codes-supports-ruby-2-6-and-higher-only"></a>Target codes supports Ruby 2.6 and higher only</h1>

<h1 id="bad-39" class="sect0"><a class="anchor" href="#bad-39"></a>bad</h1>
<div class="paragraph">
<p>ERB.new(str, nil, '-', '@output_buffer')</p>
</div>
<h1 id="good-43" class="sect0"><a class="anchor" href="#good-43"></a>good</h1>
<div class="paragraph">
<p>ERB.new(str, trim_mode: '-', eoutvar: '@output_buffer')</p>
</div>
<h1 id="target-codes-supports-ruby-2-5-and-lower-only" class="sect0"><a class="anchor" href="#target-codes-supports-ruby-2-5-and-lower-only"></a>Target codes supports Ruby 2.5 and lower only</h1>

<h1 id="good-44" class="sect0"><a class="anchor" href="#good-44"></a>good</h1>
<div class="paragraph">
<p>ERB.new(str, nil, '-', '@output_buffer')</p>
</div>
<h1 id="target-codes-supports-ruby-2-6-2-5-and-lower" class="sect0"><a class="anchor" href="#target-codes-supports-ruby-2-6-2-5-and-lower"></a>Target codes supports Ruby 2.6, 2.5 and lower</h1>

<h1 id="bad-40" class="sect0"><a class="anchor" href="#bad-40"></a>bad</h1>
<div class="paragraph">
<p>ERB.new(str, nil, '-', '@output_buffer')</p>
</div>
<h1 id="good-45" class="sect0"><a class="anchor" href="#good-45"></a>good</h1>

<h1 id="ruby-standard-library-style" class="sect0"><a class="anchor" href="#ruby-standard-library-style"></a>Ruby standard library style</h1>

<h1 id="httpsgithub-comrubyrubycommit3406c5d" class="sect0"><a class="anchor" href="#httpsgithub-comrubyrubycommit3406c5d"></a><a href="https://github.com/ruby/ruby/commit/3406c5d" class="bare">https://github.com/ruby/ruby/commit/3406c5d</a></h1>
<div class="paragraph">
<p>if ERB.instance_method(:initialize).parameters.assoc(:key) # Ruby 2.6+
  ERB.new(str, trim_mode: '-', eoutvar: '@output_buffer')
else
  ERB.new(str, nil, '-', '@output_buffer')
end</p>
</div>
<h1 id="good-46" class="sect0"><a class="anchor" href="#good-46"></a>good</h1>

<h1 id="use-ruby_version-style" class="sect0"><a class="anchor" href="#use-ruby_version-style"></a>Use <code>RUBY_VERSION</code> style</h1>
<div class="paragraph">
<p>if RUBY_VERSION &gt;= '2.6'
  ERB.new(str, trim_mode: '-', eoutvar: '@output_buffer')
else
  ERB.new(str, nil, '-', '@output_buffer')
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/FlipFlop

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| No
| 0.16
| -
|===

This cop looks for uses of flip-flop operator
based on the Ruby Style Guide.

Here is the history of flip-flops in Ruby.
flip-flop operator is deprecated in Ruby 2.6.0 and
the deprecation has been reverted by Ruby 2.7.0 and
backported to Ruby 2.6.
See: https://bugs.ruby-lang.org/issues/5400

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-41" class="sect0"><a class="anchor" href="#bad-41"></a>bad</h1>
<div class="paragraph">
<p>(1..20).each do |x|
  puts x if (x == 5) .. (x == 10)
end</p>
</div>
<h1 id="good-47" class="sect0"><a class="anchor" href="#good-47"></a>good</h1>
<div class="paragraph">
<p>(1..20).each do |x|
  puts x if (x &gt;= 5) &amp;&amp; (x &#8656; 10)
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== References

* https://rubystyle.guide#no-flip-flops

== Lint/FloatComparison

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| No
| 0.89
| -
|===

This cop checks for the presence of precise comparison of floating point numbers.

Floating point values are inherently inaccurate, and comparing them for exact equality
is almost never the desired semantics. Comparison via the `==/!=` operators checks
floating-point value representation to be exactly the same, which is very unlikely
if you perform any arithmetic operations involving precision loss.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-42" class="sect0"><a class="anchor" href="#bad-42"></a>bad</h1>
<div class="paragraph">
<p>x == 0.1
x != 0.1</p>
</div>
<h1 id="good-using-bigdecimal" class="sect0"><a class="anchor" href="#good-using-bigdecimal"></a>good - using BigDecimal</h1>
<div class="paragraph">
<p>x.to_d == 0.1.to_d</p>
</div>
<h1 id="good-48" class="sect0"><a class="anchor" href="#good-48"></a>good</h1>
<div class="paragraph">
<p>(x - 0.1).abs &lt; Float::EPSILON</p>
</div>
<h1 id="good-49" class="sect0"><a class="anchor" href="#good-49"></a>good</h1>
<div class="paragraph">
<p>tolerance = 0.0001
(x - 0.1).abs &lt; tolerance</p>
</div>
<h1 id="or-some-other-epsilon-based-type-of-comparison" class="sect0"><a class="anchor" href="#or-some-other-epsilon-based-type-of-comparison"></a>Or some other epsilon based type of comparison:</h1>

<h1 id="httpswww-embeddeduse-com20190826qt-compare-two-floats" class="sect0"><a class="anchor" href="#httpswww-embeddeduse-com20190826qt-compare-two-floats"></a><a href="https://www.embeddeduse.com/2019/08/26/qt-compare-two-floats/" class="bare">https://www.embeddeduse.com/2019/08/26/qt-compare-two-floats/</a></h1>
<div class="listingblock">
<div class="content">
<pre>=== References

* https://rubystyle.guide#float-comparison

== Lint/FloatOutOfRange

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| No
| 0.36
| -
|===

This cop identifies Float literals which are, like, really really really
really really really really really big. Too big. No-one needs Floats
that big. If you need a float that big, something is wrong with you.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-43" class="sect0"><a class="anchor" href="#bad-43"></a>bad</h1>
<div class="paragraph">
<p>float = 3.0e400</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[source,ruby]</pre>
</div>
</div>
<h1 id="good-50" class="sect0"><a class="anchor" href="#good-50"></a>good</h1>
<div class="paragraph">
<p>float = 42.9</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/FormatParameterMismatch

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| No
| 0.33
| -
|===

This lint sees if there is a mismatch between the number of
expected fields for format/sprintf/#% and what is actually
passed as arguments.

In addition it checks whether different formats are used in the same
format string. Do not mix numbered, unnumbered, and named formats in
the same format string.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-44" class="sect0"><a class="anchor" href="#bad-44"></a>bad</h1>
<div class="paragraph">
<p>format('A value: %s and another: %i', a_value)</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[source,ruby]</pre>
</div>
</div>
<h1 id="good-51" class="sect0"><a class="anchor" href="#good-51"></a>good</h1>
<div class="paragraph">
<p>format('A value: %s and another: %i', a_value, another)</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[source,ruby]</pre>
</div>
</div>
<h1 id="bad-45" class="sect0"><a class="anchor" href="#bad-45"></a>bad</h1>
<div class="paragraph">
<p>format('Unnumbered format: %s and numbered: %2$s', a_value, another)</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[source,ruby]</pre>
</div>
</div>
<h1 id="good-52" class="sect0"><a class="anchor" href="#good-52"></a>good</h1>
<div class="paragraph">
<p>format('Numbered format: %1$s and numbered %2$s', a_value, another)</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/HashCompareByIdentity

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| No
| No
| 0.93
| -
|===

Prefer using `Hash#compare_by_identity` than using `object_id` for hash keys.

This cop is marked as unsafe as a hash possibly can contain other keys
besides `object_id`s.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-46" class="sect0"><a class="anchor" href="#bad-46"></a>bad</h1>
<div class="paragraph">
<p>hash = {}
hash[foo.object_id] = :bar
hash.key?(baz.object_id)</p>
</div>
<h1 id="good-53" class="sect0"><a class="anchor" href="#good-53"></a>good</h1>
<div class="paragraph">
<p>hash = {}.compare_by_identity
hash[foo] = :bar
hash.key?(baz)</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== References

* https://rubystyle.guide#identity-comparison

== Lint/HeredocMethodCallPosition

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Disabled
| Yes
| Yes
| 0.68
| -
|===

This cop checks for the ordering of a method call where
the receiver of the call is a HEREDOC.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-47" class="sect0"><a class="anchor" href="#bad-47"></a>bad</h1>
<div class="literalblock">
<div class="content">
<pre>&lt;&lt;-SQL
  bar
SQL
.strip_indent</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;&lt;-SQL
  bar
SQL
.strip_indent
.trim</pre>
</div>
</div>
<h1 id="good-54" class="sect0"><a class="anchor" href="#good-54"></a>good</h1>
<div class="literalblock">
<div class="content">
<pre>&lt;&lt;~SQL
  bar
SQL</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;&lt;~SQL.trim
  bar
SQL</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>=== References

* https://rubystyle.guide#heredoc-method-calls

== Lint/IdentityComparison

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| Yes
| 0.91
| -
|===

Prefer `equal?` over `==` when comparing `object_id`.

`Object#equal?` is provided to compare objects for identity, and in contrast
`Object#==` is provided for the purpose of doing value comparison.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-48" class="sect0"><a class="anchor" href="#bad-48"></a>bad</h1>
<div class="paragraph">
<p>foo.object_id == bar.object_id</p>
</div>
<h1 id="good-55" class="sect0"><a class="anchor" href="#good-55"></a>good</h1>
<div class="paragraph">
<p>foo.equal?(bar)</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== References

* https://rubystyle.guide#identity-comparison

== Lint/ImplicitStringConcatenation

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| No
| 0.36
| -
|===

This cop checks for implicit string concatenation of string literals
which are on the same line.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-49" class="sect0"><a class="anchor" href="#bad-49"></a>bad</h1>
<div class="paragraph">
<p>array = ['Item 1' 'Item 2']</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[source,ruby]</pre>
</div>
</div>
<h1 id="good-56" class="sect0"><a class="anchor" href="#good-56"></a>good</h1>
<div class="paragraph">
<p>array = ['Item 1Item 2']
array = ['Item 1' + 'Item 2']
array = [
  'Item 1' \
  'Item 2'
]</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/IneffectiveAccessModifier

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| No
| 0.36
| -
|===

This cop checks for `private` or `protected` access modifiers which are
applied to a singleton method. These access modifiers do not make
singleton methods private/protected. `private_class_method` can be
used for that.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-50" class="sect0"><a class="anchor" href="#bad-50"></a>bad</h1>
<div class="paragraph">
<p>class C
  private</p>
</div>
<div class="literalblock">
<div class="content">
<pre>  def self.method
    puts 'hi'
  end
end</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>[source,ruby]</pre>
</div>
</div>
<h1 id="good-57" class="sect0"><a class="anchor" href="#good-57"></a>good</h1>
<div class="paragraph">
<p>class C
  def self.method
    puts 'hi'
  end</p>
</div>
<div class="literalblock">
<div class="content">
<pre>  private_class_method :method
end</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>[source,ruby]</pre>
</div>
</div>
<h1 id="good-58" class="sect0"><a class="anchor" href="#good-58"></a>good</h1>
<div class="paragraph">
<p>class C
  class &lt;&lt; self
    private</p>
</div>
<div class="literalblock">
<div class="content">
<pre>    def method
      puts 'hi'
    end
  end
end</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/InheritException

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| Yes
| 0.41
| -
|===

This cop looks for error classes inheriting from `Exception`
and its standard library subclasses, excluding subclasses of
`StandardError`. It is configurable to suggest using either
`RuntimeError` (default) or `StandardError` instead.

=== Examples

==== EnforcedStyle: runtime_error (default)

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-51" class="sect0"><a class="anchor" href="#bad-51"></a>bad</h1>
<div class="paragraph">
<p>class C &lt; Exception; end</p>
</div>
<div class="paragraph">
<p>C = Class.new(Exception)</p>
</div>
<h1 id="good-59" class="sect0"><a class="anchor" href="#good-59"></a>good</h1>
<div class="paragraph">
<p>class C &lt; RuntimeError; end</p>
</div>
<div class="paragraph">
<p>C = Class.new(RuntimeError)</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== EnforcedStyle: standard_error

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-52" class="sect0"><a class="anchor" href="#bad-52"></a>bad</h1>
<div class="paragraph">
<p>class C &lt; Exception; end</p>
</div>
<div class="paragraph">
<p>C = Class.new(Exception)</p>
</div>
<h1 id="good-60" class="sect0"><a class="anchor" href="#good-60"></a>good</h1>
<div class="paragraph">
<p>class C &lt; StandardError; end</p>
</div>
<div class="paragraph">
<p>C = Class.new(StandardError)</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== Configurable attributes

|===
| Name | Default value | Configurable values

| EnforcedStyle
| `runtime_error`
| `runtime_error`, `standard_error`
|===

== Lint/InterpolationCheck

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| No
| Yes (Unsafe)
| 0.50
| 0.87
|===

This cop checks for interpolation in a single quoted string.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-53" class="sect0"><a class="anchor" href="#bad-53"></a>bad</h1>
<div class="paragraph">
<p>foo = 'something with #{interpolation} inside'</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[source,ruby]</pre>
</div>
</div>
<h1 id="good-61" class="sect0"><a class="anchor" href="#good-61"></a>good</h1>
<div class="paragraph">
<p>foo = "something with #{interpolation} inside"</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/LambdaWithoutLiteralBlock

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Pending
| Yes
| Yes
| 1.8
| -
|===

This cop checks uses of lambda without a literal block.
It emulates the following warning in Ruby 3.0:

  % ruby -vwe 'lambda(&amp;proc {})'
  ruby 3.0.0p0 (2020-12-25 revision 95aff21468) [x86_64-darwin19]
  -e:1: warning: lambda without a literal block is deprecated; use the proc without
  lambda instead

This way, proc object is never converted to lambda.
Auto-correction replaces with compatible proc argument.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-54" class="sect0"><a class="anchor" href="#bad-54"></a>bad</h1>
<div class="paragraph">
<p>lambda(&amp;proc { do_something })
lambda(&amp;Proc.new { do_something })</p>
</div>
<h1 id="good-62" class="sect0"><a class="anchor" href="#good-62"></a>good</h1>
<div class="paragraph">
<p>proc { do_something }
Proc.new { do_something }
lambda { do_something } # If you use lambda.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/LiteralAsCondition

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| No
| 0.51
| -
|===

This cop checks for literals used as the conditions or as
operands in and/or expressions serving as the conditions of
if/while/until.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-55" class="sect0"><a class="anchor" href="#bad-55"></a>bad</h1>
<div class="paragraph">
<p>if 20
  do_something
end</p>
</div>
<h1 id="bad-56" class="sect0"><a class="anchor" href="#bad-56"></a>bad</h1>
<div class="paragraph">
<p>if some_var &amp;&amp; true
  do_something
end</p>
</div>
<h1 id="good-63" class="sect0"><a class="anchor" href="#good-63"></a>good</h1>
<div class="paragraph">
<p>if some_var &amp;&amp; some_condition
  do_something
end</p>
</div>
<h1 id="good-64" class="sect0"><a class="anchor" href="#good-64"></a>good</h1>

<h1 id="when-using-a-boolean-value-for-an-infinite-loop" class="sect0"><a class="anchor" href="#when-using-a-boolean-value-for-an-infinite-loop"></a>When using a boolean value for an infinite loop.</h1>
<div class="paragraph">
<p>while true
  break if condition
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/LiteralInInterpolation

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| Yes
| 0.19
| 0.32
|===

This cop checks for interpolated literals.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-57" class="sect0"><a class="anchor" href="#bad-57"></a>bad</h1>
<div class="paragraph">
<p>"result is #{10}"</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[source,ruby]</pre>
</div>
</div>
<h1 id="good-65" class="sect0"><a class="anchor" href="#good-65"></a>good</h1>
<div class="paragraph">
<p>"result is 10"</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/Loop

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| No
| Yes (Unsafe)
| 0.9
| 1.3
|===

This cop checks for uses of `begin...end while/until something`.

The cop is marked as unsafe because behaviour can change in some cases, including
if a local variable inside the loop body is accessed outside of it, or if the
loop body raises a `StopIteration` exception (which `Kernel#loop` rescues).

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-58" class="sect0"><a class="anchor" href="#bad-58"></a>bad</h1>

<h1 id="using-while" class="sect0"><a class="anchor" href="#using-while"></a>using while</h1>
<div class="paragraph">
<p>begin
  do_something
end while some_condition</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[source,ruby]</pre>
</div>
</div>
<h1 id="bad-59" class="sect0"><a class="anchor" href="#bad-59"></a>bad</h1>

<h1 id="using-until" class="sect0"><a class="anchor" href="#using-until"></a>using until</h1>
<div class="paragraph">
<p>begin
  do_something
end until some_condition</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[source,ruby]</pre>
</div>
</div>
<h1 id="good-66" class="sect0"><a class="anchor" href="#good-66"></a>good</h1>

<h1 id="while-replacement" class="sect0"><a class="anchor" href="#while-replacement"></a>while replacement</h1>
<div class="paragraph">
<p>loop do
  do_something
  break unless some_condition
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[source,ruby]</pre>
</div>
</div>
<h1 id="good-67" class="sect0"><a class="anchor" href="#good-67"></a>good</h1>

<h1 id="until-replacement" class="sect0"><a class="anchor" href="#until-replacement"></a>until replacement</h1>
<div class="paragraph">
<p>loop do
  do_something
  break if some_condition
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== References

* https://rubystyle.guide#loop-with-break

== Lint/MissingCopEnableDirective

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| No
| 0.52
| -
|===

This cop checks that there is an `# rubocop:enable ...` statement
after a `# rubocop:disable ...` statement. This will prevent leaving
cop disables on wide ranges of code, that latter contributors to
a file wouldn't be aware of.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="lintmissingcopenabledirective" class="sect0"><a class="anchor" href="#lintmissingcopenabledirective"></a>Lint/MissingCopEnableDirective:</h1>

<h1 id="maximumrangesize-inf" class="sect0"><a class="anchor" href="#maximumrangesize-inf"></a>MaximumRangeSize: .inf</h1>

<h1 id="good-68" class="sect0"><a class="anchor" href="#good-68"></a>good</h1>

<h1 id="rubocopdisable-layoutspacearoundoperators" class="sect0"><a class="anchor" href="#rubocopdisable-layoutspacearoundoperators"></a>rubocop:disable Layout/SpaceAroundOperators</h1>
<div class="paragraph">
<p>x= 0
# rubocop:enable Layout/SpaceAroundOperators
# y = 1
# EOF</p>
</div>
<h1 id="bad-60" class="sect0"><a class="anchor" href="#bad-60"></a>bad</h1>

<h1 id="rubocopdisable-layoutspacearoundoperators-2" class="sect0"><a class="anchor" href="#rubocopdisable-layoutspacearoundoperators-2"></a>rubocop:disable Layout/SpaceAroundOperators</h1>
<div class="paragraph">
<p>x= 0
# EOF</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[source,ruby]</pre>
</div>
</div>
<h1 id="lintmissingcopenabledirective-2" class="sect0"><a class="anchor" href="#lintmissingcopenabledirective-2"></a>Lint/MissingCopEnableDirective:</h1>

<h1 id="maximumrangesize-2" class="sect0"><a class="anchor" href="#maximumrangesize-2"></a>MaximumRangeSize: 2</h1>

<h1 id="good-69" class="sect0"><a class="anchor" href="#good-69"></a>good</h1>

<h1 id="rubocopdisable-layoutspacearoundoperators-3" class="sect0"><a class="anchor" href="#rubocopdisable-layoutspacearoundoperators-3"></a>rubocop:disable Layout/SpaceAroundOperators</h1>
<div class="paragraph">
<p>x= 0
# With the previous, there are 2 lines on which cop is disabled.
# rubocop:enable Layout/SpaceAroundOperators</p>
</div>
<h1 id="bad-61" class="sect0"><a class="anchor" href="#bad-61"></a>bad</h1>

<h1 id="rubocopdisable-layoutspacearoundoperators-4" class="sect0"><a class="anchor" href="#rubocopdisable-layoutspacearoundoperators-4"></a>rubocop:disable Layout/SpaceAroundOperators</h1>
<div class="paragraph">
<p>x= 0
x += 1
# Including this, that&#8217;s 3 lines on which the cop is disabled.
# rubocop:enable Layout/SpaceAroundOperators</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== Configurable attributes

|===
| Name | Default value | Configurable values

| MaximumRangeSize
| `Infinity`
| Float
|===

== Lint/MissingSuper

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| No
| 0.89
| 1.4
|===

This cop checks for the presence of constructors and lifecycle callbacks
without calls to `super`.

This cop does not consider `method_missing` (and `respond_to_missing?`)
because in some cases it makes sense to overtake what is considered a
missing method. In other cases, the theoretical ideal handling could be
challenging or verbose for no actual gain.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-62" class="sect0"><a class="anchor" href="#bad-62"></a>bad</h1>
<div class="paragraph">
<p>class Employee &lt; Person
  def initialize(name, salary)
    @salary = salary
  end
end</p>
</div>
<h1 id="good-70" class="sect0"><a class="anchor" href="#good-70"></a>good</h1>
<div class="paragraph">
<p>class Employee &lt; Person
  def initialize(name, salary)
    super(name)
    @salary = salary
  end
end</p>
</div>
<h1 id="bad-63" class="sect0"><a class="anchor" href="#bad-63"></a>bad</h1>
<div class="paragraph">
<p>class Parent
  def self.inherited(base)
    do_something
  end
end</p>
</div>
<h1 id="good-71" class="sect0"><a class="anchor" href="#good-71"></a>good</h1>
<div class="paragraph">
<p>class Parent
  def self.inherited(base)
    super
    do_something
  end
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/MixedRegexpCaptureTypes

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| No
| 0.85
| -
|===

Do not mix named captures and numbered captures in a Regexp literal
because numbered capture is ignored if they're mixed.
Replace numbered captures with non-capturing groupings or
named captures.

  # bad
  /(?&lt;foo&gt;FOO)(BAR)/

  # good
  /(?&lt;foo&gt;FOO)(?&lt;bar&gt;BAR)/

  # good
  /(?&lt;foo&gt;FOO)(?:BAR)/

  # good
  /(FOO)(BAR)/

== Lint/MultipleComparison

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| Yes
| 0.47
| 1.1
|===

In math and Python, we can use `x &lt; y &lt; z` style comparison to compare
multiple value. However, we can't use the comparison in Ruby. However,
the comparison is not syntax error. This cop checks the bad usage of
comparison operators.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-64" class="sect0"><a class="anchor" href="#bad-64"></a>bad</h1>
<div class="paragraph">
<p>x &lt; y &lt; z
10 &#8656; x &#8656; 20</p>
</div>
<h1 id="good-72" class="sect0"><a class="anchor" href="#good-72"></a>good</h1>
<div class="paragraph">
<p>x &lt; y &amp;&amp; y &lt; z
10 &#8656; x &amp;&amp; x &#8656; 20</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== Configurable attributes

|===
| Name | Default value | Configurable values

| AllowMethodComparison
| `true`
| Boolean
|===

== Lint/NestedMethodDefinition

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| No
| 0.32
| -
|===

This cop checks for nested method definitions.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-65" class="sect0"><a class="anchor" href="#bad-65"></a>bad</h1>

<h1 id="bar-definition-actually-produces-methods-in-the-same-scope" class="sect0"><a class="anchor" href="#bar-definition-actually-produces-methods-in-the-same-scope"></a><code>bar</code> definition actually produces methods in the same scope</h1>

<h1 id="as-the-outer-foo-method-furthermore-the-bar-method" class="sect0"><a class="anchor" href="#as-the-outer-foo-method-furthermore-the-bar-method"></a>as the outer <code>foo</code> method. Furthermore, the <code>bar</code> method</h1>

<h1 id="will-be-redefined-every-time-foo-is-invoked" class="sect0"><a class="anchor" href="#will-be-redefined-every-time-foo-is-invoked"></a>will be redefined every time <code>foo</code> is invoked.</h1>
<div class="paragraph">
<p>def foo
  def bar
  end
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[source,ruby]</pre>
</div>
</div>
<h1 id="good-73" class="sect0"><a class="anchor" href="#good-73"></a>good</h1>
<div class="paragraph">
<p>def foo
  bar = &#8594; { puts 'hello' }
  bar.call
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[source,ruby]</pre>
</div>
</div>
<h1 id="good-74" class="sect0"><a class="anchor" href="#good-74"></a>good</h1>
<div class="paragraph">
<p>def foo
  self.class.class_eval do
    def bar
    end
  end
end</p>
</div>
<div class="paragraph">
<p>def foo
  self.class.module_exec do
    def bar
    end
  end
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[source,ruby]</pre>
</div>
</div>
<h1 id="good-75" class="sect0"><a class="anchor" href="#good-75"></a>good</h1>
<div class="paragraph">
<p>def foo
  class &lt;&lt; self
    def bar
    end
  end
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== References

* https://rubystyle.guide#no-nested-methods

== Lint/NestedPercentLiteral

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| No
| 0.52
| -
|===

This cop checks for nested percent literals.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-66" class="sect0"><a class="anchor" href="#bad-66"></a>bad</h1>

<h1 id="the-percent-literal-for-nested_attributes-is-parsed-as-four-tokens" class="sect0"><a class="anchor" href="#the-percent-literal-for-nested_attributes-is-parsed-as-four-tokens"></a>The percent literal for nested_attributes is parsed as four tokens,</h1>

<h1 id="yielding-the-array-name-content-iincorrectly-nested" class="sect0"><a class="anchor" href="#yielding-the-array-name-content-iincorrectly-nested"></a>yielding the array [:name, :content, :"%i[incorrectly", :"nested]"].</h1>
<div class="paragraph">
<p>attributes = {
  valid_attributes: %i[name content],
  nested_attributes: %i[name content %i[incorrectly nested]]
}</p>
</div>
<h1 id="good-76" class="sect0"><a class="anchor" href="#good-76"></a>good</h1>

<h1 id="neither-is-incompatible-with-the-bad-case-but-probably-the-intended-code" class="sect0"><a class="anchor" href="#neither-is-incompatible-with-the-bad-case-but-probably-the-intended-code"></a>Neither is incompatible with the bad case, but probably the intended code.</h1>
<div class="paragraph">
<p>attributes = {
  valid_attributes: %i[name content],
  nested_attributes: [:name, :content, %i[incorrectly nested]]
}</p>
</div>
<div class="paragraph">
<p>attributes = {
  valid_attributes: %i[name content],
  nested_attributes: [:name, :content, [:incorrectly, :nested]]
}</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/NextWithoutAccumulator

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| No
| 0.36
| -
|===

Don't omit the accumulator when calling `next` in a `reduce` block.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-67" class="sect0"><a class="anchor" href="#bad-67"></a>bad</h1>
<div class="paragraph">
<p>result = (1..4).reduce(0) do |acc, i|
  next if i.odd?
  acc + i
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[source,ruby]</pre>
</div>
</div>
<h1 id="good-77" class="sect0"><a class="anchor" href="#good-77"></a>good</h1>
<div class="paragraph">
<p>result = (1..4).reduce(0) do |acc, i|
  next acc if i.odd?
  acc + i
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/NoReturnInBeginEndBlocks

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Pending
| Yes
| No
| 1.2
| -
|===

Checks for the presence of a `return` inside a `begin..end` block
in assignment contexts.
In this situation, the `return` will result in an exit from the current
method, possibly leading to unexpected behavior.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-68" class="sect0"><a class="anchor" href="#bad-68"></a>bad</h1>
<div class="paragraph">
<p>@some_variable ||= begin
  return some_value if some_condition_is_met</p>
</div>
<div class="literalblock">
<div class="content">
<pre>  do_something
end</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>[source,ruby]</pre>
</div>
</div>
<h1 id="good-78" class="sect0"><a class="anchor" href="#good-78"></a>good</h1>
<div class="paragraph">
<p>@some_variable ||= begin
  if some_condition_is_met
    some_value
  else
    do_something
  end
end</p>
</div>
<h1 id="good-79" class="sect0"><a class="anchor" href="#good-79"></a>good</h1>
<div class="paragraph">
<p>some_variable = if some_condition_is_met
                  return if another_condition_is_met</p>
</div>
<div class="literalblock">
<div class="content">
<pre>  some_value
else
  do_something
end</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/NonDeterministicRequireOrder

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| No
| Yes (Unsafe)
| 0.78
| -
|===

`Dir[...]` and `Dir.glob(...)` do not make any guarantees about
the order in which files are returned. The final order is
determined by the operating system and file system.
This means that using them in cases where the order matters,
such as requiring files, can lead to intermittent failures
that are hard to debug. To ensure this doesn't happen,
always sort the list.

`Dir.glob` and `Dir[]` sort globbed results by default in Ruby 3.0.
So all bad cases are acceptable when Ruby 3.0 or higher are used.

This cop will be deprecated and removed when supporting only Ruby 3.0 and higher.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-69" class="sect0"><a class="anchor" href="#bad-69"></a>bad</h1>
<div class="paragraph">
<p>Dir["./lib/<strong>*/</strong>.rb"].each do |file|
  require file
end</p>
</div>
<h1 id="good-80" class="sect0"><a class="anchor" href="#good-80"></a>good</h1>
<div class="paragraph">
<p>Dir["./lib/<strong>*/</strong>.rb"].sort.each do |file|
  require file
end</p>
</div>
<h1 id="bad-70" class="sect0"><a class="anchor" href="#bad-70"></a>bad</h1>
<div class="paragraph">
<p>Dir.glob(Rails.root.join(<em>dir</em>, 'test', '*.rb')) do |file|
  require file
end</p>
</div>
<h1 id="good-81" class="sect0"><a class="anchor" href="#good-81"></a>good</h1>
<div class="paragraph">
<p>Dir.glob(Rails.root.join(<em>dir</em>, 'test', '*.rb')).sort.each do |file|
  require file
end</p>
</div>
<h1 id="bad-71" class="sect0"><a class="anchor" href="#bad-71"></a>bad</h1>
<div class="paragraph">
<p>Dir['./lib/<strong>*/</strong>.rb'].each(&amp;method(:require))</p>
</div>
<h1 id="good-82" class="sect0"><a class="anchor" href="#good-82"></a>good</h1>
<div class="paragraph">
<p>Dir['./lib/<strong>*/</strong>.rb'].sort.each(&amp;method(:require))</p>
</div>
<h1 id="bad-72" class="sect0"><a class="anchor" href="#bad-72"></a>bad</h1>
<div class="paragraph">
<p>Dir.glob(Rails.root.join('test', '*.rb'), &amp;method(:require))</p>
</div>
<h1 id="good-83" class="sect0"><a class="anchor" href="#good-83"></a>good</h1>
<div class="paragraph">
<p>Dir.glob(Rails.root.join('test', '*.rb')).sort.each(&amp;method(:require))</p>
</div>
<h1 id="good-respect-intent-if-sort-keyword-option-is-specified-in-ruby-3-0-or-higher" class="sect0"><a class="anchor" href="#good-respect-intent-if-sort-keyword-option-is-specified-in-ruby-3-0-or-higher"></a>good - Respect intent if <code>sort</code> keyword option is specified in Ruby 3.0 or higher.</h1>
<div class="paragraph">
<p>Dir.glob(Rails.root.join(<em>dir</em>, 'test', '*.rb'), sort: false).each(&amp;method(:require))</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/NonLocalExitFromIterator

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| No
| 0.30
| -
|===

This cop checks for non-local exits from iterators without a return
value. It registers an offense under these conditions:

* No value is returned,
* the block is preceded by a method chain,
* the block has arguments,
* the method which receives the block is not `define_method`
or `define_singleton_method`,
* the return is not contained in an inner scope, e.g. a lambda or a
method definition.

=== Examples

[source,ruby]</pre>
</div>
</div>
<div class="paragraph">
<p>class ItemApi
  rescue_from ValidationError do |e| # non-iteration block with arg
    return { message: 'validation error' } unless e.errors # allowed
    error_array = e.errors.map do |error| # block with method chain
      return if error.suppress? # warned
      return "<mark>{error.param}: invalid" unless error.message # allowed
      "</mark>{error.param}: #{error.message}"
    end
    { message: 'validation error', errors: error_array }
  end</p>
</div>
<div class="literalblock">
<div class="content">
<pre>  def update_items
    transaction do # block without arguments
      return unless update_necessary? # allowed
      find_each do |item| # block without method chain
        return if item.stock == 0 # false-negative...
        item.update!(foobar: true)
      end
    end
  end
end</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/NumberConversion

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Disabled
| Yes
| Yes (Unsafe)
| 0.53
| 1.1
|===

This cop warns the usage of unsafe number conversions. Unsafe
number conversion can cause unexpected error if auto type conversion
fails. Cop prefer parsing with number class instead.

Conversion with `Integer`, `Float`, etc. will raise an `ArgumentError`
if given input that is not numeric (eg. an empty string), whereas
`to_i`, etc. will try to convert regardless of input (`''.to_i =&gt; 0`).
As such, this cop is disabled by default because it's not necessarily
always correct to raise if a value is not numeric.

NOTE: Some values cannot be converted properly using one of the `Kernel`
method (for instance, `Time` and `DateTime` values are allowed by this
cop by default). Similarly, Rails' duration methods do not work well
with `Integer()` and can be ignored with `IgnoredMethods`.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-73" class="sect0"><a class="anchor" href="#bad-73"></a>bad</h1>
<div class="paragraph">
<p>'10'.to_i
'10.2'.to_f
'10'.to_c
['1', '2', '3'].map(&amp;:to_i)
foo.try(:to_f)
bar.send(:to_c)</p>
</div>
<h1 id="good-84" class="sect0"><a class="anchor" href="#good-84"></a>good</h1>
<div class="paragraph">
<p>Integer('10', 10)
Float('10.2')
Complex('10')
['1', '2', '3'].map { |i| Integer(i, 10) }
foo.try { |i| Float(i) }
bar.send { |i| Complex(i) }</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== IgnoredMethods: [minutes]

[source,ruby]</pre>
</div>
</div>
<h1 id="good-85" class="sect0"><a class="anchor" href="#good-85"></a>good</h1>
<div class="paragraph">
<p>10.minutes.to_i</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== IgnoredClasses: [Time, DateTime] (default)

[source,ruby]</pre>
</div>
</div>
<h1 id="good-86" class="sect0"><a class="anchor" href="#good-86"></a>good</h1>
<div class="paragraph">
<p>Time.now.to_datetime.to_i</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== Configurable attributes

|===
| Name | Default value | Configurable values

| IgnoredMethods
| `[]`
| Array

| IgnoredClasses
| `Time`, `DateTime`
| Array
|===

== Lint/NumberedParameterAssignment

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Pending
| Yes
| No
| 1.9
| -
|===

This cop checks for uses of numbered parameter assignment.
It emulates the following warning in Ruby 2.7:

  % ruby -ve '_1 = :value'
  ruby 2.7.2p137 (2020-10-01 revision 5445e04352) [x86_64-darwin19]
  -e:1: warning: `_1' is reserved for numbered parameter; consider another name

Assiging to numbered parameter (from `_1` to `_9`) cause an error in Ruby 3.0.

  % ruby -ve '_1 = :value'
  ruby 3.0.0p0 (2020-12-25 revision 95aff21468) [x86_64-darwin19]
  -e:1: _1 is reserved for numbered parameter

NOTE: The parametered parameters are from `_1` to `_9`. This cop checks `_0`, and over `_10`
as well to prevent confusion.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-74" class="sect0"><a class="anchor" href="#bad-74"></a>bad</h1>
<div class="paragraph">
<p>_1 = :value</p>
</div>
<h1 id="good-87" class="sect0"><a class="anchor" href="#good-87"></a>good</h1>
<div class="paragraph">
<p>non_numbered_parameter_name = :value</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/OrAssignmentToConstant

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Pending
| No
| Yes (Unsafe)
| 1.9
| -
|===

This cop checks for unintended or-assignment to a constant.

Constants should always be assigned in the same location. And its value
should always be the same. If constants are assigned in multiple
locations, the result may vary depending on the order of `require`.

Also, if you already have such an implementation, auto-correction may
change the result.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-75" class="sect0"><a class="anchor" href="#bad-75"></a>bad</h1>
<div class="paragraph">
<p>CONST ||= 1</p>
</div>
<h1 id="good-88" class="sect0"><a class="anchor" href="#good-88"></a>good</h1>
<div class="paragraph">
<p>CONST = 1</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/OrderedMagicComments

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| Yes
| 0.53
| -
|===

Checks the proper ordering of magic comments and whether
a magic comment is not placed before a shebang.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-76" class="sect0"><a class="anchor" href="#bad-76"></a>bad</h1>

<h1 id="frozen_string_literal-true" class="sect0"><a class="anchor" href="#frozen_string_literal-true"></a>frozen_string_literal: true</h1>

<h1 id="encoding-ascii" class="sect0"><a class="anchor" href="#encoding-ascii"></a>encoding: ascii</h1>
<div class="paragraph">
<p>p [''.frozen?, ''.encoding] #&#8658; [true, #&lt;Encoding:UTF-8&gt;]</p>
</div>
<h1 id="good-89" class="sect0"><a class="anchor" href="#good-89"></a>good</h1>

<h1 id="encoding-ascii-2" class="sect0"><a class="anchor" href="#encoding-ascii-2"></a>encoding: ascii</h1>

<h1 id="frozen_string_literal-true-2" class="sect0"><a class="anchor" href="#frozen_string_literal-true-2"></a>frozen_string_literal: true</h1>
<div class="paragraph">
<p>p [''.frozen?, ''.encoding] #&#8658; [true, #&lt;Encoding:US-ASCII&gt;]</p>
</div>
<h1 id="good-90" class="sect0"><a class="anchor" href="#good-90"></a>good</h1>
<div class="paragraph">
<p>#!/usr/bin/env ruby
# encoding: ascii
# frozen_string_literal: true
p [''.frozen?, ''.encoding] #&#8658; [true, #&lt;Encoding:US-ASCII&gt;]</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/OutOfRangeRegexpRef

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| No
| No
| 0.89
| -
|===

This cops looks for references of Regexp captures that are out of range
and thus always returns nil.

=== Examples

[source,ruby]</pre>
</div>
</div>
<div class="paragraph">
<p>/(foo)bar/ =~ 'foobar'</p>
</div>
<h1 id="bad-always-returns-nil" class="sect0"><a class="anchor" href="#bad-always-returns-nil"></a>bad - always returns nil</h1>
<div class="paragraph">
<p>puts $2 # &#8658; nil</p>
</div>
<h1 id="good-91" class="sect0"><a class="anchor" href="#good-91"></a>good</h1>
<div class="paragraph">
<p>puts $1 # &#8658; foo</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/ParenthesesAsGroupedExpression

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| Yes
| 0.12
| 0.83
|===

Checks for space between the name of a called method and a left
parenthesis.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-77" class="sect0"><a class="anchor" href="#bad-77"></a>bad</h1>
<div class="paragraph">
<p>do_something (foo)</p>
</div>
<h1 id="good-92" class="sect0"><a class="anchor" href="#good-92"></a>good</h1>
<div class="paragraph">
<p>do_something(foo)
do_something (2 + 3) * 4
do_something (foo * bar).baz</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== References

* https://rubystyle.guide#parens-no-spaces

== Lint/PercentStringArray

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| No
| Yes (Unsafe)
| 0.41
| -
|===

This cop checks for quotes and commas in %w, e.g. `%w('foo', "bar")`

It is more likely that the additional characters are unintended (for
example, mistranslating an array of literals to percent string notation)
rather than meant to be part of the resulting strings.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-78" class="sect0"><a class="anchor" href="#bad-78"></a>bad</h1>
<div class="paragraph">
<p>%w('foo', "bar")</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[source,ruby]</pre>
</div>
</div>
<h1 id="good-93" class="sect0"><a class="anchor" href="#good-93"></a>good</h1>
<div class="paragraph">
<p>%w(foo bar)</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/PercentSymbolArray

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| Yes
| 0.41
| -
|===

This cop checks for colons and commas in %i, e.g. `%i(:foo, :bar)`

It is more likely that the additional characters are unintended (for
example, mistranslating an array of literals to percent string notation)
rather than meant to be part of the resulting symbols.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-79" class="sect0"><a class="anchor" href="#bad-79"></a>bad</h1>
<div class="paragraph">
<p>%i(:foo, :bar)</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[source,ruby]</pre>
</div>
</div>
<h1 id="good-94" class="sect0"><a class="anchor" href="#good-94"></a>good</h1>
<div class="paragraph">
<p>%i(foo bar)</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/RaiseException

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| No
| Yes (Unsafe)
| 0.81
| 0.86
|===

This cop checks for `raise` or `fail` statements which are
raising `Exception` class.

You can specify a module name that will be an implicit namespace
using `AllowedImplicitNamespaces` option. The cop cause a false positive
for namespaced `Exception` when a namespace is omitted. This option can
prevent the false positive by specifying a namespace to be omitted for
`Exception`. Alternatively, make `Exception` a fully qualified class
name with an explicit namespace.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-80" class="sect0"><a class="anchor" href="#bad-80"></a>bad</h1>
<div class="paragraph">
<p>raise Exception, 'Error message here'</p>
</div>
<h1 id="good-95" class="sect0"><a class="anchor" href="#good-95"></a>good</h1>
<div class="paragraph">
<p>raise StandardError, 'Error message here'</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== AllowedImplicitNamespaces: ['Gem']

[source,ruby]</pre>
</div>
</div>
<h1 id="good-96" class="sect0"><a class="anchor" href="#good-96"></a>good</h1>
<div class="paragraph">
<p>module Gem
  def self.foo
    raise Exception # This exception means <code>Gem::Exception</code>.
  end
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== Configurable attributes

|===
| Name | Default value | Configurable values

| AllowedImplicitNamespaces
| `Gem`
| Array
|===

=== References

* https://rubystyle.guide#raise-exception

== Lint/RandOne

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| No
| 0.36
| -
|===

This cop checks for `rand(1)` calls.
Such calls always return `0`.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-81" class="sect0"><a class="anchor" href="#bad-81"></a>bad</h1>
<div class="paragraph">
<p>rand 1
Kernel.rand(-1)
rand 1.0
rand(-1.0)</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[source,ruby]</pre>
</div>
</div>
<h1 id="good-97" class="sect0"><a class="anchor" href="#good-97"></a>good</h1>
<div class="paragraph">
<p>0 # just use 0 instead</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/RedundantCopDisableDirective

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| Yes
| 0.76
| -
|===

This cop detects instances of rubocop:disable comments that can be
removed without causing any offenses to be reported. It's implemented
as a cop in that it inherits from the Cop base class and calls
add_offense. The unusual part of its implementation is that it doesn't
have any on_* methods or an investigate method. This means that it
doesn't take part in the investigation phase when the other cops do
their work. Instead, it waits until it's called in a later stage of the
execution. The reason it can't be implemented as a normal cop is that
it depends on the results of all other cops to do its work.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-82" class="sect0"><a class="anchor" href="#bad-82"></a>bad</h1>

<h1 id="rubocopdisable-layoutlinelength" class="sect0"><a class="anchor" href="#rubocopdisable-layoutlinelength"></a>rubocop:disable Layout/LineLength</h1>
<div class="paragraph">
<p>x += 1
# rubocop:enable Layout/LineLength</p>
</div>
<h1 id="good-98" class="sect0"><a class="anchor" href="#good-98"></a>good</h1>
<div class="paragraph">
<p>x += 1</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/RedundantCopEnableDirective

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| Yes
| 0.76
| -
|===

This cop detects instances of rubocop:enable comments that can be
removed.

When comment enables all cops at once `rubocop:enable all`
that cop checks whether any cop was actually enabled.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-83" class="sect0"><a class="anchor" href="#bad-83"></a>bad</h1>
<div class="paragraph">
<p>foo = 1
# rubocop:enable Layout/LineLength</p>
</div>
<h1 id="good-99" class="sect0"><a class="anchor" href="#good-99"></a>good</h1>
<div class="paragraph">
<p>foo = 1</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[source,ruby]</pre>
</div>
</div>
<h1 id="bad-84" class="sect0"><a class="anchor" href="#bad-84"></a>bad</h1>

<h1 id="rubocopdisable-stylestringliterals" class="sect0"><a class="anchor" href="#rubocopdisable-stylestringliterals"></a>rubocop:disable Style/StringLiterals</h1>
<div class="paragraph">
<p>foo = "1"
# rubocop:enable Style/StringLiterals
baz
# rubocop:enable all</p>
</div>
<h1 id="good-100" class="sect0"><a class="anchor" href="#good-100"></a>good</h1>

<h1 id="rubocopdisable-stylestringliterals-2" class="sect0"><a class="anchor" href="#rubocopdisable-stylestringliterals-2"></a>rubocop:disable Style/StringLiterals</h1>
<div class="paragraph">
<p>foo = "1"
# rubocop:enable all
baz</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/RedundantDirGlobSort

NOTE: Required Ruby version: 3.0

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Pending
| Yes
| Yes
| 1.8
| -
|===

Sort globbed results by default in Ruby 3.0.
This cop checks for redundant `sort` method to `Dir.glob` and `Dir[]`.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-85" class="sect0"><a class="anchor" href="#bad-85"></a>bad</h1>
<div class="paragraph">
<p>Dir.glob('./lib/<strong>*/</strong>.rb').sort.each do |file|
end</p>
</div>
<div class="paragraph">
<p>Dir['./lib/<strong>*/</strong>.rb'].sort.each do |file|
end</p>
</div>
<h1 id="good-101" class="sect0"><a class="anchor" href="#good-101"></a>good</h1>
<div class="paragraph">
<p>Dir.glob('./lib/<strong>*/</strong>.rb').each do |file|
end</p>
</div>
<div class="paragraph">
<p>Dir['./lib/<strong>*/</strong>.rb'].each do |file|
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/RedundantRequireStatement

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| Yes
| 0.76
| -
|===

Checks for unnecessary `require` statement.

The following features are unnecessary `require` statement because
they are already loaded.

  ruby -ve 'p $LOADED_FEATURES.reject { |feature| %r|/| =~ feature }'
  ruby 2.2.8p477 (2017-09-14 revision 59906) [x86_64-darwin13]
  ["enumerator.so", "rational.so", "complex.so", "thread.rb"]

This cop targets Ruby 2.2 or higher containing these 4 features.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-86" class="sect0"><a class="anchor" href="#bad-86"></a>bad</h1>
<div class="paragraph">
<p>require 'unloaded_feature'
require 'thread'</p>
</div>
<h1 id="good-102" class="sect0"><a class="anchor" href="#good-102"></a>good</h1>
<div class="paragraph">
<p>require 'unloaded_feature'</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/RedundantSafeNavigation

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| No
| Yes (Unsafe)
| 0.93
| -
|===

This cop checks for redundant safe navigation calls.
`instance_of?`, `kind_of?`, `is_a?`, `eql?`, `respond_to?`, and `equal?` methods
are checked by default. These are customizable with `AllowedMethods` option.

This cop is marked as unsafe, because auto-correction can change the
return type of the expression. An offending expression that previously
could return `nil` will be auto-corrected to never return `nil`.

In the example below, the safe navigation operator (`&amp;.`) is unnecessary
because `NilClass` has methods like `respond_to?` and `is_a?`.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-87" class="sect0"><a class="anchor" href="#bad-87"></a>bad</h1>
<div class="paragraph">
<p>do_something if attrs&amp;.respond_to?(:[])</p>
</div>
<h1 id="good-103" class="sect0"><a class="anchor" href="#good-103"></a>good</h1>
<div class="paragraph">
<p>do_something if attrs.respond_to?(:[])</p>
</div>
<h1 id="bad-88" class="sect0"><a class="anchor" href="#bad-88"></a>bad</h1>
<div class="paragraph">
<p>while node&amp;.is_a?(BeginNode)
  node = node.parent
end</p>
</div>
<h1 id="good-104" class="sect0"><a class="anchor" href="#good-104"></a>good</h1>
<div class="paragraph">
<p>while node.is_a?(BeginNode)
  node = node.parent
end</p>
</div>
<h1 id="good-without-this-will-always-return-true" class="sect0"><a class="anchor" href="#good-without-this-will-always-return-true"></a>good - without <code>&amp;.</code> this will always return <code>true</code></h1>
<div class="paragraph">
<p>foo&amp;.respond_to?(:to_a)</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== Configurable attributes

|===
| Name | Default value | Configurable values

| AllowedMethods
| `instance_of?`, `kind_of?`, `is_a?`, `eql?`, `respond_to?`, `equal?`
| Array
|===

== Lint/RedundantSplatExpansion

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| Yes
| 0.76
| 1.7
|===

This cop checks for unneeded usages of splat expansion

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-89" class="sect0"><a class="anchor" href="#bad-89"></a>bad</h1>
<div class="paragraph">
<p>a = *[1, 2, 3]
a = *'a'
a = *1</p>
</div>
<div class="sect1">
<h2 id="good-105"><a class="anchor" href="#good-105"></a>good</h2>
<div class="sectionbody">
<div class="paragraph">
<p>c = [1, 2, 3]
a = *c
a, b = *c
a, *b = *c
a = *1..10
a = ['a']</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="bad-90"><a class="anchor" href="#bad-90"></a>bad</h2>
<div class="sectionbody">
<div class="paragraph">
<p>do_something(*['foo', 'bar', 'baz'])</p>
</div>
</div>
</div>
<h1 id="good-106" class="sect0"><a class="anchor" href="#good-106"></a>good</h1>
<div class="paragraph">
<p>do_something('foo', 'bar', 'baz')</p>
</div>
<h1 id="bad-91" class="sect0"><a class="anchor" href="#bad-91"></a>bad</h1>
<div class="paragraph">
<p>begin
  foo
rescue *[StandardError, ApplicationError]
  bar
end</p>
</div>
<h1 id="good-107" class="sect0"><a class="anchor" href="#good-107"></a>good</h1>
<div class="paragraph">
<p>begin
  foo
rescue StandardError, ApplicationError
  bar
end</p>
</div>
<h1 id="bad-92" class="sect0"><a class="anchor" href="#bad-92"></a>bad</h1>
<div class="paragraph">
<p>case foo
when *[1, 2, 3]
  bar
else
  baz
end</p>
</div>
<h1 id="good-108" class="sect0"><a class="anchor" href="#good-108"></a>good</h1>
<div class="paragraph">
<p>case foo
when 1, 2, 3
  bar
else
  baz
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== AllowPercentLiteralArrayArgument: true (default)

[source,ruby]</pre>
</div>
</div>
<h1 id="good-109" class="sect0"><a class="anchor" href="#good-109"></a>good</h1>
<div class="paragraph">
<p>do_something(*%w[foo bar baz])</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== AllowPercentLiteralArrayArgument: false

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-93" class="sect0"><a class="anchor" href="#bad-93"></a>bad</h1>
<div class="paragraph">
<p>do_something(*%w[foo bar baz])</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== Configurable attributes

|===
| Name | Default value | Configurable values

| AllowPercentLiteralArrayArgument
| `true`
| Boolean
|===

== Lint/RedundantStringCoercion

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| Yes
| 0.19
| 0.77
|===

This cop checks for string conversion in string interpolation,
which is redundant.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-94" class="sect0"><a class="anchor" href="#bad-94"></a>bad</h1>
<div class="paragraph">
<p>"result is #{something.to_s}"</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[source,ruby]</pre>
</div>
</div>
<h1 id="good-110" class="sect0"><a class="anchor" href="#good-110"></a>good</h1>
<div class="paragraph">
<p>"result is #{something}"</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== References

* https://rubystyle.guide#no-to-s

== Lint/RedundantWithIndex

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| Yes
| 0.50
| -
|===

This cop checks for redundant `with_index`.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-95" class="sect0"><a class="anchor" href="#bad-95"></a>bad</h1>
<div class="paragraph">
<p>ary.each_with_index do |v|
  v
end</p>
</div>
<h1 id="good-111" class="sect0"><a class="anchor" href="#good-111"></a>good</h1>
<div class="paragraph">
<p>ary.each do |v|
  v
end</p>
</div>
<h1 id="bad-96" class="sect0"><a class="anchor" href="#bad-96"></a>bad</h1>
<div class="paragraph">
<p>ary.each.with_index do |v|
  v
end</p>
</div>
<h1 id="good-112" class="sect0"><a class="anchor" href="#good-112"></a>good</h1>
<div class="paragraph">
<p>ary.each do |v|
  v
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/RedundantWithObject

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| Yes
| 0.51
| -
|===

This cop checks for redundant `with_object`.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-97" class="sect0"><a class="anchor" href="#bad-97"></a>bad</h1>
<div class="paragraph">
<p>ary.each_with_object([]) do |v|
  v
end</p>
</div>
<h1 id="good-113" class="sect0"><a class="anchor" href="#good-113"></a>good</h1>
<div class="paragraph">
<p>ary.each do |v|
  v
end</p>
</div>
<h1 id="bad-98" class="sect0"><a class="anchor" href="#bad-98"></a>bad</h1>
<div class="paragraph">
<p>ary.each.with_object([]) do |v|
  v
end</p>
</div>
<h1 id="good-114" class="sect0"><a class="anchor" href="#good-114"></a>good</h1>
<div class="paragraph">
<p>ary.each do |v|
  v
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/RegexpAsCondition

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| Yes
| 0.51
| 0.86
|===

This cop checks for regexp literals used as `match-current-line`.
If a regexp literal is in condition, the regexp matches `$_` implicitly.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-99" class="sect0"><a class="anchor" href="#bad-99"></a>bad</h1>
<div class="paragraph">
<p>if /foo/
  do_something
end</p>
</div>
<h1 id="good-115" class="sect0"><a class="anchor" href="#good-115"></a>good</h1>
<div class="paragraph">
<p>if /foo/ =~ $_
  do_something
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/RequireParentheses

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| No
| 0.18
| -
|===

This cop checks for expressions where there is a call to a predicate
method with at least one argument, where no parentheses are used around
the parameter list, and a boolean operator, &amp;&amp; or ||, is used in the
last argument.

The idea behind warning for these constructs is that the user might
be under the impression that the return value from the method call is
an operand of &amp;&amp;/||.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-100" class="sect0"><a class="anchor" href="#bad-100"></a>bad</h1>
<div class="paragraph">
<p>if day.is? :tuesday &amp;&amp; month == :jan
  # &#8230;&#8203;
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[source,ruby]</pre>
</div>
</div>
<h1 id="good-116" class="sect0"><a class="anchor" href="#good-116"></a>good</h1>
<div class="paragraph">
<p>if day.is?(:tuesday) &amp;&amp; month == :jan
  # &#8230;&#8203;
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/RescueException

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| No
| 0.9
| 0.27
|===

This cop checks for `rescue` blocks targeting the Exception class.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-101" class="sect0"><a class="anchor" href="#bad-101"></a>bad</h1>
<div class="paragraph">
<p>begin
  do_something
rescue Exception
  handle_exception
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[source,ruby]</pre>
</div>
</div>
<h1 id="good-117" class="sect0"><a class="anchor" href="#good-117"></a>good</h1>
<div class="paragraph">
<p>begin
  do_something
rescue ArgumentError
  handle_exception
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== References

* https://rubystyle.guide#no-blind-rescues

== Lint/RescueType

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| Yes
| 0.49
| -
|===

Check for arguments to `rescue` that will result in a `TypeError`
if an exception is raised.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-102" class="sect0"><a class="anchor" href="#bad-102"></a>bad</h1>
<div class="paragraph">
<p>begin
  bar
rescue nil
  baz
end</p>
</div>
<h1 id="bad-103" class="sect0"><a class="anchor" href="#bad-103"></a>bad</h1>
<div class="paragraph">
<p>def foo
  bar
rescue 1, 'a', "#{b}", 0.0, [], {}
  baz
end</p>
</div>
<h1 id="good-118" class="sect0"><a class="anchor" href="#good-118"></a>good</h1>
<div class="paragraph">
<p>begin
  bar
rescue
  baz
end</p>
</div>
<h1 id="good-119" class="sect0"><a class="anchor" href="#good-119"></a>good</h1>
<div class="paragraph">
<p>def foo
  bar
rescue NameError
  baz
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/ReturnInVoidContext

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| No
| 0.50
| -
|===

This cop checks for the use of a return with a value in a context
where the value will be ignored. (initialize and setter methods)

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-104" class="sect0"><a class="anchor" href="#bad-104"></a>bad</h1>
<div class="paragraph">
<p>def initialize
  foo
  return :qux if bar?
  baz
end</p>
</div>
<div class="paragraph">
<p>def foo=(bar)
  return 42
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[source,ruby]</pre>
</div>
</div>
<h1 id="good-120" class="sect0"><a class="anchor" href="#good-120"></a>good</h1>
<div class="paragraph">
<p>def initialize
  foo
  return if bar?
  baz
end</p>
</div>
<div class="paragraph">
<p>def foo=(bar)
  return
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/SafeNavigationChain

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| No
| 0.47
| 0.77
|===

The safe navigation operator returns nil if the receiver is
nil. If you chain an ordinary method call after a safe
navigation operator, it raises NoMethodError. We should use a
safe navigation operator after a safe navigation operator.
This cop checks for the problem outlined above.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-105" class="sect0"><a class="anchor" href="#bad-105"></a>bad</h1>
<div class="paragraph">
<p>x&amp;.foo.bar
x&amp;.foo + bar
x&amp;.foo[bar]</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[source,ruby]</pre>
</div>
</div>
<h1 id="good-121" class="sect0"><a class="anchor" href="#good-121"></a>good</h1>
<div class="paragraph">
<p>x&amp;.foo&amp;.bar
x&amp;.foo || bar</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== Configurable attributes

|===
| Name | Default value | Configurable values

| AllowedMethods
| `present?`, `blank?`, `presence`, `try`, `try!`, `in?`
| Array
|===

== Lint/SafeNavigationConsistency

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| Yes
| 0.55
| 0.77
|===

This cop check to make sure that if safe navigation is used for a method
call in an `&amp;&amp;` or `||` condition that safe navigation is used for all
method calls on that same object.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-106" class="sect0"><a class="anchor" href="#bad-106"></a>bad</h1>
<div class="paragraph">
<p>foo&amp;.bar &amp;&amp; foo.baz</p>
</div>
<h1 id="bad-107" class="sect0"><a class="anchor" href="#bad-107"></a>bad</h1>
<div class="paragraph">
<p>foo.bar || foo&amp;.baz</p>
</div>
<h1 id="bad-108" class="sect0"><a class="anchor" href="#bad-108"></a>bad</h1>
<div class="paragraph">
<p>foo&amp;.bar &amp;&amp; (foobar.baz || foo.baz)</p>
</div>
<h1 id="good-122" class="sect0"><a class="anchor" href="#good-122"></a>good</h1>
<div class="paragraph">
<p>foo.bar &amp;&amp; foo.baz</p>
</div>
<h1 id="good-123" class="sect0"><a class="anchor" href="#good-123"></a>good</h1>
<div class="paragraph">
<p>foo&amp;.bar || foo&amp;.baz</p>
</div>
<h1 id="good-124" class="sect0"><a class="anchor" href="#good-124"></a>good</h1>
<div class="paragraph">
<p>foo&amp;.bar &amp;&amp; (foobar.baz || foo&amp;.baz)</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== Configurable attributes

|===
| Name | Default value | Configurable values

| AllowedMethods
| `present?`, `blank?`, `presence`, `try`, `try!`
| Array
|===

== Lint/SafeNavigationWithEmpty

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| Yes
| 0.62
| 0.87
|===

This cop checks to make sure safe navigation isn't used with `empty?` in
a conditional.

While the safe navigation operator is generally a good idea, when
checking `foo&amp;.empty?` in a conditional, `foo` being `nil` will actually
do the opposite of what the author intends.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-109" class="sect0"><a class="anchor" href="#bad-109"></a>bad</h1>
<div class="paragraph">
<p>return if foo&amp;.empty?
return unless foo&amp;.empty?</p>
</div>
<h1 id="good-125" class="sect0"><a class="anchor" href="#good-125"></a>good</h1>
<div class="paragraph">
<p>return if foo &amp;&amp; foo.empty?
return unless foo &amp;&amp; foo.empty?</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/ScriptPermission

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| Yes
| 0.49
| 0.50
|===

This cop checks if a file which has a shebang line as
its first line is granted execute permission.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-110" class="sect0"><a class="anchor" href="#bad-110"></a>bad</h1>

<h1 id="a-file-which-has-a-shebang-line-as-its-first-line-is-not" class="sect0"><a class="anchor" href="#a-file-which-has-a-shebang-line-as-its-first-line-is-not"></a>A file which has a shebang line as its first line is not</h1>

<h1 id="granted-execute-permission" class="sect0"><a class="anchor" href="#granted-execute-permission"></a>granted execute permission.</h1>
<div class="paragraph">
<p>#!/usr/bin/env ruby
puts 'hello, world'</p>
</div>
<h1 id="good-126" class="sect0"><a class="anchor" href="#good-126"></a>good</h1>

<h1 id="a-file-which-has-a-shebang-line-as-its-first-line-is" class="sect0"><a class="anchor" href="#a-file-which-has-a-shebang-line-as-its-first-line-is"></a>A file which has a shebang line as its first line is</h1>

<h1 id="granted-execute-permission-2" class="sect0"><a class="anchor" href="#granted-execute-permission-2"></a>granted execute permission.</h1>
<div class="paragraph">
<p>#!/usr/bin/env ruby
puts 'hello, world'</p>
</div>
<h1 id="good-127" class="sect0"><a class="anchor" href="#good-127"></a>good</h1>

<h1 id="a-file-which-has-not-a-shebang-line-as-its-first-line-is-not" class="sect0"><a class="anchor" href="#a-file-which-has-not-a-shebang-line-as-its-first-line-is-not"></a>A file which has not a shebang line as its first line is not</h1>

<h1 id="granted-execute-permission-3" class="sect0"><a class="anchor" href="#granted-execute-permission-3"></a>granted execute permission.</h1>
<div class="paragraph">
<p>puts 'hello, world'</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/SelfAssignment

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| No
| 0.89
| -
|===

This cop checks for self-assignments.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-111" class="sect0"><a class="anchor" href="#bad-111"></a>bad</h1>
<div class="paragraph">
<p>foo = foo
foo, bar = foo, bar
Foo = Foo</p>
</div>
<h1 id="good-128" class="sect0"><a class="anchor" href="#good-128"></a>good</h1>
<div class="paragraph">
<p>foo = bar
foo, bar = bar, foo
Foo = Bar</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/SendWithMixinArgument

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| Yes
| 0.75
| -
|===

This cop checks for `send`, `public_send`, and `__send__` methods
when using mix-in.

`include` and `prepend` methods were private methods until Ruby 2.0,
they were mixed-in via `send` method. This cop uses Ruby 2.1 or
higher style that can be called by public methods.
And `extend` method that was originally a public method is also targeted
for style unification.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-112" class="sect0"><a class="anchor" href="#bad-112"></a>bad</h1>
<div class="paragraph">
<p>Foo.send(:include, Bar)
Foo.send(:prepend, Bar)
Foo.send(:extend, Bar)</p>
</div>
<h1 id="bad-113" class="sect0"><a class="anchor" href="#bad-113"></a>bad</h1>
<div class="paragraph">
<p>Foo.public_send(:include, Bar)
Foo.public_send(:prepend, Bar)
Foo.public_send(:extend, Bar)</p>
</div>
<h1 id="bad-114" class="sect0"><a class="anchor" href="#bad-114"></a>bad</h1>
<div class="paragraph">
<p>Foo.<em>send</em>(:include, Bar)
Foo.<em>send</em>(:prepend, Bar)
Foo.<em>send</em>(:extend, Bar)</p>
</div>
<h1 id="good-129" class="sect0"><a class="anchor" href="#good-129"></a>good</h1>
<div class="paragraph">
<p>Foo.include Bar
Foo.prepend Bar
Foo.extend Bar</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/ShadowedArgument

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| No
| 0.52
| -
|===

This cop checks for shadowed arguments.

This cop has `IgnoreImplicitReferences` configuration option.
It means argument shadowing is used in order to pass parameters
to zero arity `super` when `IgnoreImplicitReferences` is `true`.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-115" class="sect0"><a class="anchor" href="#bad-115"></a>bad</h1>
<div class="paragraph">
<p>do_something do |foo|
  foo = 42
  puts foo
end</p>
</div>
<div class="paragraph">
<p>def do_something(foo)
  foo = 42
  puts foo
end</p>
</div>
<h1 id="good-130" class="sect0"><a class="anchor" href="#good-130"></a>good</h1>
<div class="paragraph">
<p>do_something do |foo|
  foo = foo + 42
  puts foo
end</p>
</div>
<div class="paragraph">
<p>def do_something(foo)
  foo = foo + 42
  puts foo
end</p>
</div>
<div class="paragraph">
<p>def do_something(foo)
  puts foo
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== IgnoreImplicitReferences: false (default)

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-116" class="sect0"><a class="anchor" href="#bad-116"></a>bad</h1>
<div class="paragraph">
<p>def do_something(foo)
  foo = 42
  super
end</p>
</div>
<div class="paragraph">
<p>def do_something(foo)
  foo = super
  bar
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== IgnoreImplicitReferences: true

[source,ruby]</pre>
</div>
</div>
<h1 id="good-131" class="sect0"><a class="anchor" href="#good-131"></a>good</h1>
<div class="paragraph">
<p>def do_something(foo)
  foo = 42
  super
end</p>
</div>
<div class="paragraph">
<p>def do_something(foo)
  foo = super
  bar
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== Configurable attributes

|===
| Name | Default value | Configurable values

| IgnoreImplicitReferences
| `false`
| Boolean
|===

== Lint/ShadowedException

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| No
| 0.41
| -
|===

This cop checks for a rescued exception that get shadowed by a
less specific exception being rescued before a more specific
exception is rescued.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-117" class="sect0"><a class="anchor" href="#bad-117"></a>bad</h1>
<div class="paragraph">
<p>begin
  something
rescue Exception
  handle_exception
rescue StandardError
  handle_standard_error
end</p>
</div>
<h1 id="good-132" class="sect0"><a class="anchor" href="#good-132"></a>good</h1>
<div class="paragraph">
<p>begin
  something
rescue StandardError
  handle_standard_error
rescue Exception
  handle_exception
end</p>
</div>
<h1 id="good-however-depending-on-runtime-environment" class="sect0"><a class="anchor" href="#good-however-depending-on-runtime-environment"></a>good, however depending on runtime environment.</h1>
<div class="paragraph">
<p>#
# This is a special case for system call errors.
# System dependent error code depends on runtime environment.
# For example, whether <code>Errno::EAGAIN</code> and <code>Errno::EWOULDBLOCK</code> are
# the same error code or different error code depends on environment.
# This good case is for <code>Errno::EAGAIN</code> and <code>Errno::EWOULDBLOCK</code> with
# the same error code.
begin
  something
rescue Errno::EAGAIN, Errno::EWOULDBLOCK
  handle_standard_error
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/ShadowingOuterLocalVariable

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| No
| 0.9
| -
|===

This cop checks for the use of local variable names from an outer scope
in block arguments or block-local variables. This mirrors the warning
given by `ruby -cw` prior to Ruby 2.6:
"shadowing outer local variable - foo".

NOTE: Shadowing of variables in block passed to `Ractor.new` is allowed
because `Ractor` should not access outer variables.
eg. following syle is encouraged:

  worker_id, pipe = env
  Ractor.new(worker_id, pipe) do |worker_id, pipe|
  end

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-118" class="sect0"><a class="anchor" href="#bad-118"></a>bad</h1>
<div class="paragraph">
<p>def some_method
  foo = 1</p>
</div>
<div class="literalblock">
<div class="content">
<pre>  2.times do |foo| # shadowing outer `foo`
    do_something(foo)
  end
end</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>[source,ruby]</pre>
</div>
</div>
<h1 id="good-133" class="sect0"><a class="anchor" href="#good-133"></a>good</h1>
<div class="paragraph">
<p>def some_method
  foo = 1</p>
</div>
<div class="literalblock">
<div class="content">
<pre>  2.times do |bar|
    do_something(bar)
  end
end</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/StructNewOverride

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| No
| 0.81
| -
|===

This cop checks unexpected overrides of the `Struct` built-in methods
via `Struct.new`.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-119" class="sect0"><a class="anchor" href="#bad-119"></a>bad</h1>
<div class="paragraph">
<p>Bad = Struct.new(:members, :clone, :count)
b = Bad.new([], true, 1)
b.members #&#8658; [] (overriding <code>Struct#members</code>)
b.clone #&#8658; true (overriding <code>Object#clone</code>)
b.count #&#8658; 1 (overriding <code>Enumerable#count</code>)</p>
</div>
<h1 id="good-134" class="sect0"><a class="anchor" href="#good-134"></a>good</h1>
<div class="paragraph">
<p>Good = Struct.new(:id, :name)
g = Good.new(1, "foo")
g.members #&#8658; [:id, :name]
g.clone #&#8658; #&lt;struct Good id=1, name="foo"&gt;
g.count #&#8658; 2</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/SuppressedException

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| No
| 0.9
| 0.81
|===

This cop checks for `rescue` blocks with no body.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-120" class="sect0"><a class="anchor" href="#bad-120"></a>bad</h1>
<div class="paragraph">
<p>def some_method
  do_something
rescue
end</p>
</div>
<h1 id="bad-121" class="sect0"><a class="anchor" href="#bad-121"></a>bad</h1>
<div class="paragraph">
<p>begin
  do_something
rescue
end</p>
</div>
<h1 id="good-135" class="sect0"><a class="anchor" href="#good-135"></a>good</h1>
<div class="paragraph">
<p>def some_method
  do_something
rescue
  handle_exception
end</p>
</div>
<h1 id="good-136" class="sect0"><a class="anchor" href="#good-136"></a>good</h1>
<div class="paragraph">
<p>begin
  do_something
rescue
  handle_exception
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== AllowComments: true (default)

[source,ruby]</pre>
</div>
</div>
<h1 id="good-137" class="sect0"><a class="anchor" href="#good-137"></a>good</h1>
<div class="paragraph">
<p>def some_method
  do_something
rescue
  # do nothing
end</p>
</div>
<h1 id="good-138" class="sect0"><a class="anchor" href="#good-138"></a>good</h1>
<div class="paragraph">
<p>begin
  do_something
rescue
  # do nothing
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== AllowComments: false

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-122" class="sect0"><a class="anchor" href="#bad-122"></a>bad</h1>
<div class="paragraph">
<p>def some_method
  do_something
rescue
  # do nothing
end</p>
</div>
<h1 id="bad-123" class="sect0"><a class="anchor" href="#bad-123"></a>bad</h1>
<div class="paragraph">
<p>begin
  do_something
rescue
  # do nothing
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== Configurable attributes

|===
| Name | Default value | Configurable values

| AllowComments
| `true`
| Boolean
|===

=== References

* https://rubystyle.guide#dont-hide-exceptions

== Lint/SymbolConversion

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Pending
| Yes
| Yes
| 1.9
| -
|===

This cop checks for uses of literal strings converted to
a symbol where a literal symbol could be used instead.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-124" class="sect0"><a class="anchor" href="#bad-124"></a>bad</h1>
<div class="paragraph">
<p>'string'.to_sym
:symbol.to_sym
'underscored_string'.to_sym
:'underscored_symbol'
'hyphenated-string'.to_sym</p>
</div>
<h1 id="good-139" class="sect0"><a class="anchor" href="#good-139"></a>good</h1>
<div class="paragraph">
<p>:string
:symbol
:underscored_string
:underscored_symbol
:'hyphenated-string'</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/Syntax

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| No
| 0.9
| -
|===

This cop repacks Parser's diagnostics/errors
into RuboCop's offenses.

== Lint/ToEnumArguments

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Pending
| Yes
| No
| 1.1
| -
|===

This cop ensures that `to_enum`/`enum_for`, called for the current method,
has correct arguments.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-125" class="sect0"><a class="anchor" href="#bad-125"></a>bad</h1>
<div class="paragraph">
<p>def foo(x, y = 1)
  return to_enum(<em>callee</em>, x) # <code>y</code> is missing
end</p>
</div>
<h1 id="good-140" class="sect0"><a class="anchor" href="#good-140"></a>good</h1>
<div class="paragraph">
<p>def foo(x, y = 1)
  return to_enum(<em>callee</em>, x, y)
  # alternatives to <code><em>callee</em></code> are <code><em>method</em></code> and <code>:foo</code>
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/ToJSON

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| Yes
| 0.66
| -
|===

This cop checks to make sure `#to_json` includes an optional argument.
When overriding `#to_json`, callers may invoke JSON
generation via `JSON.generate(your_obj)`.  Since `JSON#generate` allows
for an optional argument, your method should too.

=== Examples

[source,ruby]</pre>
</div>
</div>
<div class="paragraph">
<p>class Point
  attr_reader :x, :y</p>
</div>
<div class="literalblock">
<div class="content">
<pre># bad, incorrect arity
def to_json
  JSON.generate([x, y])
end</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre># good, preserving args
def to_json(*args)
  JSON.generate([x, y], *args)
end</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>  # good, discarding args
  def to_json(*_args)
    JSON.generate([x, y])
  end
end</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/TopLevelReturnWithArgument

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| No
| 0.89
| -
|===

This cop checks for top level return with arguments. If there is a
top-level return statement with an argument, then the argument is
always ignored. This is detected automatically since Ruby 2.7.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="detected-since-ruby-2-7" class="sect0"><a class="anchor" href="#detected-since-ruby-2-7"></a>Detected since Ruby 2.7</h1>
<div class="paragraph">
<p>return 1 # 1 is always ignored.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/TrailingCommaInAttributeDeclaration

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| Yes
| 0.90
| -
|===

This cop checks for trailing commas in attribute declarations, such as
`#attr_reader`. Leaving a trailing comma will nullify the next method
definition by overriding it with a getter method.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-126" class="sect0"><a class="anchor" href="#bad-126"></a>bad</h1>
<div class="paragraph">
<p>class Foo
  attr_reader :foo,</p>
</div>
<div class="literalblock">
<div class="content">
<pre>  def bar
    puts "Unreachable."
  end
end</pre>
</div>
</div>
<h1 id="good-141" class="sect0"><a class="anchor" href="#good-141"></a>good</h1>
<div class="paragraph">
<p>class Foo
  attr_reader :foo</p>
</div>
<div class="literalblock">
<div class="content">
<pre>  def bar
    puts "No problem!"
  end
end</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/TripleQuotes

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Pending
| Yes
| Yes
| 1.9
| -
|===

This cop checks for "triple quotes" (strings delimted by any odd number
of quotes greater than 1).

Ruby allows multiple strings to be implicitly concatenated by just
being adjacent in a statement (ie. `"foo""bar" == "foobar"`). This sometimes
gives the impression that there is something special about triple quotes, but
in fact it is just extra unnecessary quotes and produces the same string. Each
pair of quotes produces an additional concatenated empty string, so the result
is still only the "actual" string within the delimiters.

NOTE: Although this cop is called triple quotes, the same behavior is present
for strings delimited by 5, 7, etc. quotation marks.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-127" class="sect0"><a class="anchor" href="#bad-127"></a>bad</h1>
<div class="paragraph">
<p>"""
  A string
"""</p>
</div>
<h1 id="bad-128" class="sect0"><a class="anchor" href="#bad-128"></a>bad</h1>
<hr>
<div class="literalblock">
<div class="content">
<pre>  A string
'''</pre>
</div>
</div>
<h1 id="good-142" class="sect0"><a class="anchor" href="#good-142"></a>good</h1>
<div class="paragraph">
<p>"
  A string
"</p>
</div>
<h1 id="good-143" class="sect0"><a class="anchor" href="#good-143"></a>good</h1>
<div class="paragraph">
<p>&lt;&lt;STRING
  A string
STRING</p>
</div>
<h1 id="good-but-not-the-same-spacing-as-the-bad-case" class="sect0"><a class="anchor" href="#good-but-not-the-same-spacing-as-the-bad-case"></a>good (but not the same spacing as the bad case)</h1>
<div class="paragraph">
<p>'A string'</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/UnderscorePrefixedVariableName

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| No
| 0.21
| -
|===

This cop checks for underscore-prefixed variables that are actually
used.

Since block keyword arguments cannot be arbitrarily named at call
sites, the `AllowKeywordBlockArguments` will allow use of underscore-
prefixed block keyword arguments.

=== Examples

==== AllowKeywordBlockArguments: false (default)

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-129" class="sect0"><a class="anchor" href="#bad-129"></a>bad</h1>
<div class="paragraph">
<p>[1, 2, 3].each do |_num|
  do_something(_num)
end</p>
</div>
<div class="paragraph">
<p>query(:sales) do |_id:, revenue:, cost:|
  {_id: _id, profit: revenue - cost}
end</p>
</div>
<h1 id="good-144" class="sect0"><a class="anchor" href="#good-144"></a>good</h1>
<div class="paragraph">
<p>[1, 2, 3].each do |num|
  do_something(num)
end</p>
</div>
<div class="paragraph">
<p>[1, 2, 3].each do |_num|
  do_something # not using <code>_num</code>
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== AllowKeywordBlockArguments: true

[source,ruby]</pre>
</div>
</div>
<h1 id="good-145" class="sect0"><a class="anchor" href="#good-145"></a>good</h1>
<div class="paragraph">
<p>query(:sales) do |_id:, revenue:, cost:|
  {_id: _id, profit: revenue - cost}
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== Configurable attributes

|===
| Name | Default value | Configurable values

| AllowKeywordBlockArguments
| `false`
| Boolean
|===

== Lint/UnexpectedBlockArity

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Pending
| No
| No
| 1.5
| -
|===

This cop checks for a block that is known to need more positional
block arguments than are given (by default this is configured for
`Enumerable` methods needing 2 arguments). Optional arguments are allowed,
although they don't generally make sense as the default value will
be used. Blocks that have no receiver, or take splatted arguments
(ie. `*args`) are always accepted.

Keyword arguments (including `**kwargs`) do not get counted towards
this, as they are not used by the methods in question.

NOTE: This cop matches for method names only and hence cannot tell apart
methods with same name in different classes.

Method names and their expected arity can be configured like this:

Methods:
  inject: 2
  reduce: 2

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-130" class="sect0"><a class="anchor" href="#bad-130"></a>bad</h1>
<div class="paragraph">
<p>values.reduce {}
values.min { |a| a }
values.sort { |a; b| a + b }</p>
</div>
<h1 id="good-146" class="sect0"><a class="anchor" href="#good-146"></a>good</h1>
<div class="paragraph">
<p>values.reduce { |memo, obj| memo &lt;&lt; obj }
values.min { |a, b| a &lt;&#8658; b }
values.sort { |*x| x[0] &lt;&#8658; x[1] }</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== Configurable attributes

|===
| Name | Default value | Configurable values

| Methods
| `{"chunk_while"=&gt;2, "each_with_index"=&gt;2, "each_with_object"=&gt;2, "inject"=&gt;2, "max"=&gt;2, "min"=&gt;2, "minmax"=&gt;2, "reduce"=&gt;2, "slice_when"=&gt;2, "sort"=&gt;2}`
|
|===

== Lint/UnifiedInteger

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| Yes
| 0.43
| -
|===

This cop checks for using Fixnum or Bignum constant.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-131" class="sect0"><a class="anchor" href="#bad-131"></a>bad</h1>
<div class="paragraph">
<p>1.is_a?(Fixnum)
1.is_a?(Bignum)</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[source,ruby]</pre>
</div>
</div>
<h1 id="good-147" class="sect0"><a class="anchor" href="#good-147"></a>good</h1>
<div class="paragraph">
<p>1.is_a?(Integer)</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/UnmodifiedReduceAccumulator

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Pending
| Yes
| No
| 1.1
| 1.5
|===

Looks for `reduce` or `inject` blocks where the value returned (implicitly or
explicitly) does not include the accumulator. A block is considered valid as
long as at least one return value includes the accumulator.

If the accumulator is not included in the return value, then the entire
block will just return a transformation of the last element value, and
could be rewritten as such without a loop.

Also catches instances where an index of the accumulator is returned, as
this may change the type of object being retained.

NOTE: For the purpose of reducing false positives, this cop only flags
returns in `reduce` blocks where the element is the only variable in
the expression (since we will not be able to tell what other variables
relate to via static analysis).

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-132" class="sect0"><a class="anchor" href="#bad-132"></a>bad</h1>
<div class="paragraph">
<p>(1..4).reduce(0) do |acc, el|
  el * 2
end</p>
</div>
<h1 id="bad-may-raise-a-nomethoderror-after-the-first-iteration" class="sect0"><a class="anchor" href="#bad-may-raise-a-nomethoderror-after-the-first-iteration"></a>bad, may raise a NoMethodError after the first iteration</h1>
<div class="paragraph">
<p>%w(a b c).reduce({}) do |acc, letter|
  acc[letter] = true
end</p>
</div>
<h1 id="good-148" class="sect0"><a class="anchor" href="#good-148"></a>good</h1>
<div class="paragraph">
<p>(1..4).reduce(0) do |acc, el|
  acc + el * 2
end</p>
</div>
<h1 id="good-element-is-returned-but-modified-using-the-accumulator" class="sect0"><a class="anchor" href="#good-element-is-returned-but-modified-using-the-accumulator"></a>good, element is returned but modified using the accumulator</h1>
<div class="paragraph">
<p>values.reduce do |acc, el|
  el &lt;&lt; acc
  el
end</p>
</div>
<h1 id="good-returns-the-accumulator-instead-of-the-index" class="sect0"><a class="anchor" href="#good-returns-the-accumulator-instead-of-the-index"></a>good, returns the accumulator instead of the index</h1>
<div class="paragraph">
<p>%w(a b c).reduce({}) do |acc, letter|
  acc[letter] = true
  acc
end</p>
</div>
<h1 id="good-at-least-one-branch-returns-the-accumulator" class="sect0"><a class="anchor" href="#good-at-least-one-branch-returns-the-accumulator"></a>good, at least one branch returns the accumulator</h1>
<div class="paragraph">
<p>values.reduce(nil) do |result, value|
  break result if something?
  value
end</p>
</div>
<h1 id="good-recursive" class="sect0"><a class="anchor" href="#good-recursive"></a>good, recursive</h1>
<div class="paragraph">
<p>keys.reduce(self) { |result, key| result[key] }</p>
</div>
<h1 id="ignored-as-the-return-value-cannot-be-determined" class="sect0"><a class="anchor" href="#ignored-as-the-return-value-cannot-be-determined"></a>ignored as the return value cannot be determined</h1>
<div class="paragraph">
<p>enum.reduce do |acc, el|
  x = foo(acc, el)
  bar(x)
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/UnreachableCode

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| No
| 0.9
| -
|===

This cop checks for unreachable code.
The check are based on the presence of flow of control
statement in non-final position in `begin` (implicit) blocks.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-133" class="sect0"><a class="anchor" href="#bad-133"></a>bad</h1>
<div class="paragraph">
<p>def some_method
  return
  do_something
end</p>
</div>
<h1 id="bad-134" class="sect0"><a class="anchor" href="#bad-134"></a>bad</h1>
<div class="paragraph">
<p>def some_method
  if cond
    return
  else
    return
  end
  do_something
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[source,ruby]</pre>
</div>
</div>
<h1 id="good-149" class="sect0"><a class="anchor" href="#good-149"></a>good</h1>
<div class="paragraph">
<p>def some_method
  do_something
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/UnreachableLoop

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| No
| 0.89
| 1.7
|===

This cop checks for loops that will have at most one iteration.

A loop that can never reach the second iteration is a possible error in the code.
In rare cases where only one iteration (or at most one iteration) is intended behavior,
the code should be refactored to use `if` conditionals.

NOTE: Block methods that are used with `Enumerable`s are considered to be loops.

`IgnoredPatterns` can be used to match against the block receiver in order to allow
code that would otherwise be registered as an offense (eg. `times` used not in an
`Enumerable` context).

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-135" class="sect0"><a class="anchor" href="#bad-135"></a>bad</h1>
<div class="paragraph">
<p>while node
  do_something(node)
  node = node.parent
  break
end</p>
</div>
<h1 id="good-150" class="sect0"><a class="anchor" href="#good-150"></a>good</h1>
<div class="paragraph">
<p>while node
  do_something(node)
  node = node.parent
end</p>
</div>
<h1 id="bad-136" class="sect0"><a class="anchor" href="#bad-136"></a>bad</h1>
<div class="paragraph">
<p>def verify_list(head)
  item = head
  begin
    if verify(item)
      return true
    else
      return false
    end
  end while(item)
end</p>
</div>
<h1 id="good-151" class="sect0"><a class="anchor" href="#good-151"></a>good</h1>
<div class="paragraph">
<p>def verify_list(head)
  item = head
  begin
    if verify(item)
      item = item.next
    else
      return false
    end
  end while(item)</p>
</div>
<div class="literalblock">
<div class="content">
<pre>  true
end</pre>
</div>
</div>
<h1 id="bad-137" class="sect0"><a class="anchor" href="#bad-137"></a>bad</h1>
<div class="paragraph">
<p>def find_something(items)
  items.each do |item|
    if something?(item)
      return item
    else
      raise NotFoundError
    end
  end
end</p>
</div>
<h1 id="good-152" class="sect0"><a class="anchor" href="#good-152"></a>good</h1>
<div class="paragraph">
<p>def find_something(items)
  items.each do |item|
    if something?(item)
      return item
    end
  end
  raise NotFoundError
end</p>
</div>
<h1 id="bad-138" class="sect0"><a class="anchor" href="#bad-138"></a>bad</h1>
<div class="paragraph">
<p>2.times { raise ArgumentError }</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== IgnoredPatterns: [/(exactly|at_least|at_most)\(\d+\)\.times/] (default)

[source,ruby]</pre>
</div>
</div>
<h1 id="good-153" class="sect0"><a class="anchor" href="#good-153"></a>good</h1>
<div class="paragraph">
<p>exactly(2).times { raise StandardError }</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== Configurable attributes

|===
| Name | Default value | Configurable values

| IgnoredPatterns
| `(?-mix:(exactly|at_least|at_most)\(\d+\)\.times)`
| Array
|===

== Lint/UnusedBlockArgument

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| Yes
| 0.21
| 0.22
|===

This cop checks for unused block arguments.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-139" class="sect0"><a class="anchor" href="#bad-139"></a>bad</h1>
<div class="paragraph">
<p>do_something do |used, unused|
  puts used
end</p>
</div>
<div class="paragraph">
<p>do_something do |bar|
  puts :foo
end</p>
</div>
<div class="paragraph">
<p>define_method(:foo) do |bar|
  puts :baz
end</p>
</div>
<h1 id="good-154" class="sect0"><a class="anchor" href="#good-154"></a>good</h1>
<div class="paragraph">
<p>do_something do |used, _unused|
  puts used
end</p>
</div>
<div class="paragraph">
<p>do_something do
  puts :foo
end</p>
</div>
<div class="paragraph">
<p>define_method(:foo) do |_bar|
  puts :baz
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== IgnoreEmptyBlocks: true (default)

[source,ruby]</pre>
</div>
</div>
<h1 id="good-155" class="sect0"><a class="anchor" href="#good-155"></a>good</h1>
<div class="paragraph">
<p>do_something { |unused| }</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== IgnoreEmptyBlocks: false

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-140" class="sect0"><a class="anchor" href="#bad-140"></a>bad</h1>
<div class="paragraph">
<p>do_something { |unused| }</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== AllowUnusedKeywordArguments: false (default)

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-141" class="sect0"><a class="anchor" href="#bad-141"></a>bad</h1>
<div class="paragraph">
<p>do_something do |unused: 42|
  foo
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== AllowUnusedKeywordArguments: true

[source,ruby]</pre>
</div>
</div>
<h1 id="good-156" class="sect0"><a class="anchor" href="#good-156"></a>good</h1>
<div class="paragraph">
<p>do_something do |unused: 42|
  foo
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== Configurable attributes

|===
| Name | Default value | Configurable values

| IgnoreEmptyBlocks
| `true`
| Boolean

| AllowUnusedKeywordArguments
| `false`
| Boolean
|===

=== References

* https://rubystyle.guide#underscore-unused-vars

== Lint/UnusedMethodArgument

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| Yes
| 0.21
| 0.81
|===

This cop checks for unused method arguments.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-142" class="sect0"><a class="anchor" href="#bad-142"></a>bad</h1>
<div class="paragraph">
<p>def some_method(used, unused, _unused_but_allowed)
  puts used
end</p>
</div>
<h1 id="good-157" class="sect0"><a class="anchor" href="#good-157"></a>good</h1>
<div class="paragraph">
<p>def some_method(used, _unused, _unused_but_allowed)
  puts used
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== AllowUnusedKeywordArguments: false (default)

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-143" class="sect0"><a class="anchor" href="#bad-143"></a>bad</h1>
<div class="paragraph">
<p>def do_something(used, unused: 42)
  used
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== AllowUnusedKeywordArguments: true

[source,ruby]</pre>
</div>
</div>
<h1 id="good-158" class="sect0"><a class="anchor" href="#good-158"></a>good</h1>
<div class="paragraph">
<p>def do_something(used, unused: 42)
  used
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== IgnoreEmptyMethods: true (default)

[source,ruby]</pre>
</div>
</div>
<h1 id="good-159" class="sect0"><a class="anchor" href="#good-159"></a>good</h1>
<div class="paragraph">
<p>def do_something(unused)
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== IgnoreEmptyMethods: false

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-144" class="sect0"><a class="anchor" href="#bad-144"></a>bad</h1>
<div class="paragraph">
<p>def do_something(unused)
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== IgnoreNotImplementedMethods: true (default)

[source,ruby]</pre>
</div>
</div>
<h1 id="good-160" class="sect0"><a class="anchor" href="#good-160"></a>good</h1>
<div class="paragraph">
<p>def do_something(unused)
  raise NotImplementedError
end</p>
</div>
<div class="paragraph">
<p>def do_something_else(unused)
  fail "TODO"
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== IgnoreNotImplementedMethods: false

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-145" class="sect0"><a class="anchor" href="#bad-145"></a>bad</h1>
<div class="paragraph">
<p>def do_something(unused)
  raise NotImplementedError
end</p>
</div>
<div class="paragraph">
<p>def do_something_else(unused)
  fail "TODO"
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== Configurable attributes

|===
| Name | Default value | Configurable values

| AllowUnusedKeywordArguments
| `false`
| Boolean

| IgnoreEmptyMethods
| `true`
| Boolean

| IgnoreNotImplementedMethods
| `true`
| Boolean
|===

=== References

* https://rubystyle.guide#underscore-unused-vars

== Lint/UriEscapeUnescape

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| No
| 0.50
| -
|===

This cop identifies places where `URI.escape` can be replaced by
`CGI.escape`, `URI.encode_www_form`, or `URI.encode_www_form_component`
depending on your specific use case.
Also this cop identifies places where `URI.unescape` can be replaced by
`CGI.unescape`, `URI.decode_www_form`,
or `URI.decode_www_form_component` depending on your specific use case.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-146" class="sect0"><a class="anchor" href="#bad-146"></a>bad</h1>
<div class="paragraph">
<p>URI.escape('http://example.com')
URI.encode('http://example.com')</p>
</div>
<h1 id="good-161" class="sect0"><a class="anchor" href="#good-161"></a>good</h1>
<div class="paragraph">
<p>CGI.escape('http://example.com')
URI.encode_www_form([['example', 'param'], ['lang', 'en']])
URI.encode_www_form(page: 10, locale: 'en')
URI.encode_www_form_component('http://example.com')</p>
</div>
<h1 id="bad-147" class="sect0"><a class="anchor" href="#bad-147"></a>bad</h1>
<div class="paragraph">
<p>URI.unescape(enc_uri)
URI.decode(enc_uri)</p>
</div>
<h1 id="good-162" class="sect0"><a class="anchor" href="#good-162"></a>good</h1>
<div class="paragraph">
<p>CGI.unescape(enc_uri)
URI.decode_www_form(enc_uri)
URI.decode_www_form_component(enc_uri)</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/UriRegexp

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| Yes
| 0.50
| -
|===

This cop identifies places where `URI.regexp` is obsolete and should
not be used. Instead, use `URI::DEFAULT_PARSER.make_regexp`.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-148" class="sect0"><a class="anchor" href="#bad-148"></a>bad</h1>
<div class="paragraph">
<p>URI.regexp('http://example.com')</p>
</div>
<h1 id="good-163" class="sect0"><a class="anchor" href="#good-163"></a>good</h1>
<div class="paragraph">
<p>URI::DEFAULT_PARSER.make_regexp('http://example.com')</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/UselessAccessModifier

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| Yes
| 0.20
| 0.83
|===

This cop checks for redundant access modifiers, including those with no
code, those which are repeated, and leading `public` modifiers in a
class or module body. Conditionally-defined methods are considered as
always being defined, and thus access modifiers guarding such methods
are not redundant.

This cop has `ContextCreatingMethods` option. The default setting value
is an empty array that means no method is specified.
This setting is an array of methods which, when called, are known to
create its own context in the module's current access context.

It also has `MethodCreatingMethods` option. The default setting value
is an empty array that means no method is specified.
This setting is an array of methods which, when called, are known to
create other methods in the module's current access context.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-149" class="sect0"><a class="anchor" href="#bad-149"></a>bad</h1>
<div class="paragraph">
<p>class Foo
  public # this is redundant (default access is public)</p>
</div>
<div class="literalblock">
<div class="content">
<pre>  def method
  end
end</pre>
</div>
</div>
<h1 id="bad-150" class="sect0"><a class="anchor" href="#bad-150"></a>bad</h1>
<div class="paragraph">
<p>class Foo
  # The following is redundant (methods defined on the class'
  # singleton class are not affected by the public modifier)
  public</p>
</div>
<div class="literalblock">
<div class="content">
<pre>  def self.method3
  end
end</pre>
</div>
</div>
<h1 id="bad-151" class="sect0"><a class="anchor" href="#bad-151"></a>bad</h1>
<div class="paragraph">
<p>class Foo
  protected</p>
</div>
<div class="literalblock">
<div class="content">
<pre>define_method(:method2) do
end</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>protected # this is redundant (repeated from previous modifier)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>  [1,2,3].each do |i|
    define_method("foo#{i}") do
    end
  end
end</pre>
</div>
</div>
<h1 id="bad-152" class="sect0"><a class="anchor" href="#bad-152"></a>bad</h1>
<div class="paragraph">
<p>class Foo
  private # this is redundant (no following methods are defined)
end</p>
</div>
<h1 id="good-164" class="sect0"><a class="anchor" href="#good-164"></a>good</h1>
<div class="paragraph">
<p>class Foo
  private # this is not redundant (a method is defined)</p>
</div>
<div class="literalblock">
<div class="content">
<pre>  def method2
  end
end</pre>
</div>
</div>
<h1 id="good-165" class="sect0"><a class="anchor" href="#good-165"></a>good</h1>
<div class="paragraph">
<p>class Foo
  # The following is not redundant (conditionally defined methods are
  # considered as always defining a method)
  private</p>
</div>
<div class="literalblock">
<div class="content">
<pre>  if condition?
    def method
    end
  end
end</pre>
</div>
</div>
<h1 id="good-166" class="sect0"><a class="anchor" href="#good-166"></a>good</h1>
<div class="paragraph">
<p>class Foo
  protected # this is not redundant (a method is defined)</p>
</div>
<div class="literalblock">
<div class="content">
<pre>  define_method(:method2) do
  end
end</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>==== ContextCreatingMethods: concerning

[source,ruby]</pre>
</div>
</div>
<h1 id="lintuselessaccessmodifier" class="sect0"><a class="anchor" href="#lintuselessaccessmodifier"></a>Lint/UselessAccessModifier:</h1>

<h1 id="contextcreatingmethods" class="sect0"><a class="anchor" href="#contextcreatingmethods"></a>ContextCreatingMethods:</h1>

<h1 id="concerning" class="sect0"><a class="anchor" href="#concerning"></a>- concerning</h1>

<h1 id="good-167" class="sect0"><a class="anchor" href="#good-167"></a>good</h1>
<div class="paragraph">
<p>require 'active_support/concern'
class Foo
  concerning :Bar do
    def some_public_method
    end</p>
</div>
<div class="literalblock">
<div class="content">
<pre>private</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>  def some_private_method
  end
end</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre># this is not redundant because `concerning` created its own context
private</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>  def some_other_private_method
  end
end</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>==== MethodCreatingMethods: delegate

[source,ruby]</pre>
</div>
</div>
<h1 id="lintuselessaccessmodifier-2" class="sect0"><a class="anchor" href="#lintuselessaccessmodifier-2"></a>Lint/UselessAccessModifier:</h1>

<h1 id="methodcreatingmethods" class="sect0"><a class="anchor" href="#methodcreatingmethods"></a>MethodCreatingMethods:</h1>

<h1 id="delegate" class="sect0"><a class="anchor" href="#delegate"></a>- delegate</h1>

<h1 id="good-168" class="sect0"><a class="anchor" href="#good-168"></a>good</h1>
<div class="paragraph">
<p>require 'active_support/core_ext/module/delegation'
class Foo
  # this is not redundant because <code>delegate</code> creates methods
  private</p>
</div>
<div class="literalblock">
<div class="content">
<pre>  delegate :method_a, to: :method_b
end</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>=== Configurable attributes

|===
| Name | Default value | Configurable values

| ContextCreatingMethods
| `[]`
| Array

| MethodCreatingMethods
| `[]`
| Array
|===

== Lint/UselessAssignment

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| No
| 0.11
| -
|===

This cop checks for every useless assignment to local variable in every
scope.
The basic idea for this cop was from the warning of `ruby -cw`:

  assigned but unused variable - foo

Currently this cop has advanced logic that detects unreferenced
reassignments and properly handles varied cases such as branch, loop,
rescue, ensure, etc.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-153" class="sect0"><a class="anchor" href="#bad-153"></a>bad</h1>
<div class="paragraph">
<p>def some_method
  some_var = 1
  do_something
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[source,ruby]</pre>
</div>
</div>
<h1 id="good-169" class="sect0"><a class="anchor" href="#good-169"></a>good</h1>
<div class="paragraph">
<p>def some_method
  some_var = 1
  do_something(some_var)
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== References

* https://rubystyle.guide#underscore-unused-vars

== Lint/UselessElseWithoutRescue

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| No
| 0.17
| -
|===

This cop checks for useless `else` in `begin..end` without `rescue`.

NOTE: This syntax is no longer valid on Ruby 2.6 or higher and
this cop is going to be removed at some point the future.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-154" class="sect0"><a class="anchor" href="#bad-154"></a>bad</h1>
<div class="paragraph">
<p>begin
  do_something
else
  do_something_else # This will never be run.
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[source,ruby]</pre>
</div>
</div>
<h1 id="good-170" class="sect0"><a class="anchor" href="#good-170"></a>good</h1>
<div class="paragraph">
<p>begin
  do_something
rescue
  handle_errors
else
  do_something_else
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/UselessMethodDefinition

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| No
| Yes (Unsafe)
| 0.90
| -
|===

This cop checks for useless method definitions, specifically: empty constructors
and methods just delegating to `super`.

This cop is marked as unsafe as it can trigger false positives for cases when
an empty constructor just overrides the parent constructor, which is bad anyway.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-155" class="sect0"><a class="anchor" href="#bad-155"></a>bad</h1>
<div class="paragraph">
<p>def initialize
  super
end</p>
</div>
<div class="paragraph">
<p>def method
  super
end</p>
</div>
<h1 id="good-with-default-arguments" class="sect0"><a class="anchor" href="#good-with-default-arguments"></a>good - with default arguments</h1>
<div class="paragraph">
<p>def initialize(x = Object.new)
  super
end</p>
</div>
<h1 id="good-171" class="sect0"><a class="anchor" href="#good-171"></a>good</h1>
<div class="paragraph">
<p>def initialize
  super
  initialize_internals
end</p>
</div>
<div class="paragraph">
<p>def method(*args)
  super(:extra_arg, *args)
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== Configurable attributes

|===
| Name | Default value | Configurable values

| AllowComments
| `true`
| Boolean
|===

== Lint/UselessSetterCall

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| No
| Yes (Unsafe)
| 0.13
| 1.2
|===

This cop checks for setter call to local variable as the final
expression of a function definition.
Its auto-correction is marked as unsafe because return value will be changed.

NOTE: There are edge cases in which the local variable references a
value that is also accessible outside the local scope. This is not
detected by the cop, and it can yield a false positive.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-156" class="sect0"><a class="anchor" href="#bad-156"></a>bad</h1>
<div class="paragraph">
<p>def something
  x = Something.new
  x.attr = 5
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[source,ruby]</pre>
</div>
</div>
<h1 id="good-172" class="sect0"><a class="anchor" href="#good-172"></a>good</h1>
<div class="paragraph">
<p>def something
  x = Something.new
  x.attr = 5
  x
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/UselessTimes

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| No
| Yes (Unsafe)
| 0.91
| -
|===

This cop checks for uses of `Integer#times` that will never yield
(when the integer &lt;= 0) or that will only ever yield once
(`1.times`).

This cop is marked as unsafe as `times` returns its receiver, which
is *usually* OK, but might change behavior.

=== Examples

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-157" class="sect0"><a class="anchor" href="#bad-157"></a>bad</h1>
<div class="paragraph">
<p>-5.times { do_something }
0.times { do_something }
1.times { do_something  }
1.times { |i| do_something(i) }</p>
</div>
<h1 id="good-173" class="sect0"><a class="anchor" href="#good-173"></a>good</h1>
<div class="paragraph">
<p>do_something
do_something(1)</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Lint/Void

|===
| Enabled by default | Safe | Supports autocorrection | VersionAdded | VersionChanged

| Enabled
| Yes
| No
| 0.9
| -
|===

This cop checks for operators, variables, literals, and nonmutating
methods used in void context.

=== Examples

==== CheckForMethodsWithNoSideEffects: false (default)

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-158" class="sect0"><a class="anchor" href="#bad-158"></a>bad</h1>
<div class="paragraph">
<p>def some_method
  some_num * 10
  do_something
end</p>
</div>
<div class="paragraph">
<p>def some_method(some_var)
  some_var
  do_something
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== CheckForMethodsWithNoSideEffects: true

[source,ruby]</pre>
</div>
</div>
<h1 id="bad-159" class="sect0"><a class="anchor" href="#bad-159"></a>bad</h1>
<div class="paragraph">
<p>def some_method(some_array)
  some_array.sort
  do_something(some_array)
end</p>
</div>
<h1 id="good-174" class="sect0"><a class="anchor" href="#good-174"></a>good</h1>
<div class="paragraph">
<p>def some_method
  do_something
  some_num * 10
end</p>
</div>
<div class="paragraph">
<p>def some_method(some_var)
  do_something
  some_var
end</p>
</div>
<div class="paragraph">
<p>def some_method(some_array)
  some_array.sort!
  do_something(some_array)
end</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== Configurable attributes

|===
| Name | Default value | Configurable values

| CheckForMethodsWithNoSideEffects
| `false`
| Boolean
|===</pre>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="cops_layout.html">Layout</a></span>
  <span class="next"><a href="cops_metrics.html">Metrics</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>Copyright (C) 2012-2021 <a href="https://metaredux.com">Bozhidar Batsov</a> and RuboCop contributors.</p>
  <p>Except where otherwise noted, docs.rubocop.org is licensed under the <a href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution-ShareAlike 4.0 International</a> (CC BY-SA 4.0).</p>
</footer>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript">
docsearch({
  apiKey: '6d6bf5210b1f26f7f7939e192f8f8c77',
  indexName: 'rubocop',
  inputSelector: '#search-input',
  debug: false // Set debug to true if you want to inspect the dropdown
});
</script>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
  </body>
</html>
